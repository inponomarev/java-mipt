<!DOCTYPE html><html lang="ru"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui"><title>Core Java. Лекция 1: Обзор истории, возможностей и особенностей экосистемы Java</title><meta name="author" content="Иван Пономарёв, КУРС/МФТИ"><link rel="stylesheet" href="reveal.js-3.9.2/css/reset.css"><link rel="stylesheet" href="reveal.js-3.9.2/css/reveal.css"><link rel="stylesheet" href="white_course.css" id="theme"><!--This CSS is generated by the Asciidoctor reveal.js converter to further integrate AsciiDoc's existing semantic with reveal.js--><style type="text/css">.reveal div.right {
  float: right
}

/* listing block */
.reveal .listingblock.stretch > .content {
  height: 100%
}

.reveal .listingblock.stretch > .content > pre {
  height: 100%
}

.reveal .listingblock.stretch > .content > pre > code {
  height: 100%;
  max-height: 100%
}

/* tables */
table {
  border-collapse: collapse;
  border-spacing: 0
}

table {
  margin-bottom: 1.25em;
  border: solid 1px #dedede
}

table thead tr th, table thead tr td, table tfoot tr th, table tfoot tr td {
  padding: .5em .625em .625em;
  font-size: inherit;
  text-align: left
}

table tr th, table tr td {
  padding: .5625em .625em;
  font-size: inherit
}

table thead tr th, table tfoot tr th, table tbody tr td, table tr td, table tfoot tr td {
  display: table-cell;
  line-height: 1.6
}

td.tableblock > .content {
  margin-bottom: 1.25em
}

td.tableblock > .content > :last-child {
  margin-bottom: -1.25em
}

table.tableblock, th.tableblock, td.tableblock {
  border: 0 solid #dedede
}

table.grid-all > thead > tr > .tableblock, table.grid-all > tbody > tr > .tableblock {
  border-width: 0 1px 1px 0
}

table.grid-all > tfoot > tr > .tableblock {
  border-width: 1px 1px 0 0
}

table.grid-cols > * > tr > .tableblock {
  border-width: 0 1px 0 0
}

table.grid-rows > thead > tr > .tableblock, table.grid-rows > tbody > tr > .tableblock {
  border-width: 0 0 1px
}

table.grid-rows > tfoot > tr > .tableblock {
  border-width: 1px 0 0
}

table.grid-all > * > tr > .tableblock:last-child, table.grid-cols > * > tr > .tableblock:last-child {
  border-right-width: 0
}

table.grid-all > tbody > tr:last-child > .tableblock, table.grid-all > thead:last-child > tr > .tableblock, table.grid-rows > tbody > tr:last-child > .tableblock, table.grid-rows > thead:last-child > tr > .tableblock {
  border-bottom-width: 0
}

table.frame-all {
  border-width: 1px
}

table.frame-sides {
  border-width: 0 1px
}

table.frame-topbot, table.frame-ends {
  border-width: 1px 0
}

.reveal table th.halign-left, .reveal table td.halign-left {
  text-align: left
}

.reveal table th.halign-right, .reveal table td.halign-right {
  text-align: right
}

.reveal table th.halign-center, .reveal table td.halign-center {
  text-align: center
}

.reveal table th.valign-top, .reveal table td.valign-top {
  vertical-align: top
}

.reveal table th.valign-bottom, .reveal table td.valign-bottom {
  vertical-align: bottom
}

.reveal table th.valign-middle, .reveal table td.valign-middle {
  vertical-align: middle
}

table thead th, table tfoot th {
  font-weight: bold
}

tbody tr th {
  display: table-cell;
  line-height: 1.6
}

tbody tr th, tbody tr th p, tfoot tr th, tfoot tr th p {
  font-weight: bold
}

thead {
  display: table-header-group
}

.reveal table.grid-none th, .reveal table.grid-none td {
  border-bottom: 0 !important
}

/* kbd macro */
kbd {
  font-family: "Droid Sans Mono", "DejaVu Sans Mono", monospace;
  display: inline-block;
  color: rgba(0, 0, 0, .8);
  font-size: .65em;
  line-height: 1.45;
  background: #f7f7f7;
  border: 1px solid #ccc;
  -webkit-border-radius: 3px;
  border-radius: 3px;
  -webkit-box-shadow: 0 1px 0 rgba(0, 0, 0, .2), 0 0 0 .1em white inset;
  box-shadow: 0 1px 0 rgba(0, 0, 0, .2), 0 0 0 .1em #fff inset;
  margin: 0 .15em;
  padding: .2em .5em;
  vertical-align: middle;
  position: relative;
  top: -.1em;
  white-space: nowrap
}

.keyseq kbd:first-child {
  margin-left: 0
}

.keyseq kbd:last-child {
  margin-right: 0
}

/* callouts */
.conum[data-value] {
  display: inline-block;
  color: #fff !important;
  background: rgba(0, 0, 0, .8);
  -webkit-border-radius: 50%;
  border-radius: 50%;
  text-align: center;
  font-size: .75em;
  width: 1.67em;
  height: 1.67em;
  line-height: 1.67em;
  font-family: "Open Sans", "DejaVu Sans", sans-serif;
  font-style: normal;
  font-weight: bold
}

.conum[data-value] * {
  color: #fff !important
}

.conum[data-value] + b {
  display: none
}

.conum[data-value]:after {
  content: attr(data-value)
}

pre .conum[data-value] {
  position: relative;
  top: -.125em
}

b.conum * {
  color: inherit !important
}

.conum:not([data-value]):empty {
  display: none
}

/* Callout list */
.hdlist > table, .colist > table {
  border: 0;
  background: none
}

.hdlist > table > tbody > tr, .colist > table > tbody > tr {
  background: none
}

td.hdlist1, td.hdlist2 {
  vertical-align: top;
  padding: 0 .625em
}

td.hdlist1 {
  font-weight: bold;
  padding-bottom: 1.25em
}

/* Disabled from Asciidoctor CSS because it caused callout list to go under the
 * source listing when .stretch is applied (see #335)
 * .literalblock+.colist,.listingblock+.colist{margin-top:-.5em} */
.colist td:not([class]):first-child {
  padding: .4em .75em 0;
  line-height: 1;
  vertical-align: top
}

.colist td:not([class]):first-child img {
  max-width: none
}

.colist td:not([class]):last-child {
  padding: .25em 0
}

/* Override Asciidoctor CSS that causes issues with reveal.js features */
.reveal .hljs table {
  border: 0
}

/* Callout list rows would have a bottom border with some reveal.js themes (see #335) */
.reveal .colist > table th, .reveal .colist > table td {
  border-bottom: 0
}

/* Fixes line height with Highlight.js source listing when linenums enabled (see #331) */
.reveal .hljs table thead tr th, .reveal .hljs table tfoot tr th, .reveal .hljs table tbody tr td, .reveal .hljs table tr td, .reveal .hljs table tfoot tr td {
  line-height: inherit
}

/* Columns layout */
.columns .slide-content {
  display: flex;
}

.columns.wrap .slide-content {
  flex-wrap: wrap;
}

.columns.is-vcentered .slide-content {
  align-items: center;
}

.columns .slide-content > .column {
  display: block;
  flex-basis: 0;
  flex-grow: 1;
  flex-shrink: 1;
}

.columns .slide-content > .column > * {
  padding: .75rem;
}

/* See #353 */
.columns.wrap .slide-content > .column {
  flex-basis: auto;
}

.columns .slide-content > .column.is-full {
  flex: none;
  width: 100%;
}

.columns .slide-content > .column.is-four-fifths {
  flex: none;
  width: 80%;
}

.columns .slide-content > .column.is-three-quarters {
  flex: none;
  width: 75%;
}

.columns .slide-content > .column.is-two-thirds {
  flex: none;
  width: 66.6666%;
}

.columns .slide-content > .column.is-three-fifths {
  flex: none;
  width: 60%;
}

.columns .slide-content > .column.is-half {
  flex: none;
  width: 50%;
}

.columns .slide-content > .column.is-two-fifths {
  flex: none;
  width: 40%;
}

.columns .slide-content > .column.is-one-third {
  flex: none;
  width: 33.3333%;
}

.columns .slide-content > .column.is-one-quarter {
  flex: none;
  width: 25%;
}

.columns .slide-content > .column.is-one-fifth {
  flex: none;
  width: 20%;
}

.columns .slide-content > .column.has-text-left {
  text-align: left;
}

.columns .slide-content > .column.has-text-justified {
  text-align: justify;
}

.columns .slide-content > .column.has-text-right {
  text-align: right;
}

.columns .slide-content > .column.has-text-left {
  text-align: left;
}

.columns .slide-content > .column.has-text-justified {
  text-align: justify;
}

.columns .slide-content > .column.has-text-right {
  text-align: right;
}

.text-left {
  text-align: left !important
}

.text-right {
  text-align: right !important
}

.text-center {
  text-align: center !important
}

.text-justify {
  text-align: justify !important
}

.footnotes {
  border-top: 1px solid rgba(0, 0, 0, 0.2);
  padding: 0.5em 0 0 0;
  font-size: 0.65em;
  margin-top: 4em;
}
</style><link rel="stylesheet" href="./font-awesome-4.7.0/css/font-awesome.css"><!--Printing and PDF exports--><script>var link = document.createElement( 'link' );
link.rel = 'stylesheet';
link.type = 'text/css';
link.href = window.location.search.match( /print-pdf/gi ) ? "reveal.js-3.9.2/css/print/pdf.css" : "reveal.js-3.9.2/css/print/paper.css";
document.getElementsByTagName( 'head' )[0].appendChild( link );</script></head><body><div class="reveal"><div class="slides"><section class="title" data-state="title"><h1>Core Java. Лекция 1</h1><h2>Обзор истории, возможностей и особенностей экосистемы Java</h2><div class="preamble"><div class="paragraph"><p><a href="mailto:ponomarev@corchestra.ru">ponomarev@corchestra.ru</a></p></div>
<div class="paragraph"><p><span class="icon"><i class="fa fa-twitter fa-lg"></i></span> @inponomarev</p></div></div><p class="author"><small>Иван Пономарёв, КУРС/МФТИ</small></p></section>
<section id="_кто_я_такой"><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:30%"><col style="width:70%"></colgroup><tbody><tr><td class="tableblock halign-left valign-middle"><div><div class="imageblock"><img src="images/me.jpg" alt="me"></div></div></td><td class="tableblock halign-left valign-middle"><div><div class="ulist"><ul><li><p>Выпускник МФТИ 2003 г., к.ф.-м.н</p></li><li><p>ERP systems &amp; Java background</p></li><li><p>Speaker at conferences</p></li><li><p>Heisenbug Program Committee Member</p></li></ul></div></div></td></tr></table></div></section>
<section id="_как_со_мной_связаться"><h2>Как со мной связаться?</h2><div class="slide-content"><div class="ulist none"><ul class="none"><li><p><span class="icon"><i class="fa fa-home fa-lg"></i></span> <a href="https://inponomarev.ru/" class="bare">https://inponomarev.ru/</a> (RU)</p></li><li><p><span class="icon"><i class="fa fa-home fa-lg"></i></span> <a href="https://ponomarev.uk/" class="bare">https://ponomarev.uk/</a> (EN)</p></li><li><p><span class="icon"><i class="fa fa-twitter fa-lg"></i></span> <a href="https://twitter.com/inponomarev">@inponomarev</a></p></li><li><p><span class="icon"><i class="fa fa-telegram fa-lg"></i></span> <a href="https://t.me/ivan_ponomarev">ivan_ponomarev</a></p></li></ul></div></div></section>
<section id="_как_будет_проходить_курс"><h2>Как будет проходить курс?</h2><div class="slide-content"><div class="ulist"><ul><li><p>Лекции</p></li><li><p>Семинарские занятия</p></li><li><p>Домашние работы</p></li><li><p>Баллы за сдачу ДЗ определяют финальную оценку</p></li></ul></div></div></section>
<section id="_what_is_java" data-background-image="images/indonesia.png" data-background-size="cover"></section>
<section id="_ещё_про_острова" data-background-image="images/kotlin.png" data-background-size="cover"></section>
<section id="_полезные_ссылки"><h2>Полезные ссылки</h2><div class="slide-content"><div class="ulist"><ul><li><p><a href="https://ponomarev.uk/javacourse.html" class="bare">https://ponomarev.uk/javacourse.html</a></p></li></ul></div></div></section>
<section id="_полезные_книги"><h2>Полезные книги</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:25%"><col style="width:25%"><col style="width:25%"><col style="width:25%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="imageblock"><img src="images/horstmann.jpg" alt="horstmann"></div></div></td><td class="tableblock halign-left valign-top"><div><div class="imageblock"><img src="images/horstmann2.jpg" alt="horstmann2"></div></div></td><td class="tableblock halign-left valign-top"><div><div class="imageblock"><img src="images/urma.jpg" alt="urma"></div></div></td><td class="tableblock halign-left valign-top"><div></div></td></tr></table>
<div class="ulist"><ul><li><p><strong>Cay S. Horstmann.</strong> Core Java vol 1 &amp; 2</p></li><li><p><strong>Raoul-Gabriel Urma et al.</strong> Modern Java in Action</p></li></ul></div></div></section>
<section id="_полезные_книги_2"><h2>Полезные книги*</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:25%"><col style="width:25%"><col style="width:25%"><col style="width:25%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div></div></td><td class="tableblock halign-left valign-top"><div><div class="imageblock"><img src="images/bloch.jpg" alt="bloch"></div></div></td><td class="tableblock halign-left valign-top"><div><div class="imageblock"><img src="images/goetz.jpg" alt="goetz"></div></div></td><td class="tableblock halign-left valign-top"><div></div></td></tr></table>
<div class="ulist"><ul><li><p><strong>Joshua Bloch</strong> Effective Java</p></li><li><p><strong>Brian Goetz et al.</strong> Java Concurrency in Practice</p></li></ul></div></div></section>
<section id="_tiobe_index_httpswww_tiobe_comtiobe_index"><h2>TIOBE Index (<a href="https://www.tiobe.com/tiobe-index/" class="bare">https://www.tiobe.com/tiobe-index/</a>)</h2><div class="slide-content"><div class="ulist"><ul><li><p>number of search engine results for queries containing the name of the language</p></li><li><p>covers searches in Google, Google Blogs, MSN, Yahoo!, Baidu, Wikipedia and YouTube</p></li><li><p>reflects the number of skilled engineers, courses and jobs worldwide</p></li></ul></div></div></section>
<section id="_tiobe"><div class="slide-content"><div class="imageblock"><img src="images/tiobe.png" alt="tiobe" width="100%"></div>
<div class="paragraph"><p><a href="https://www.tiobe.com/tiobe-index/" class="bare">https://www.tiobe.com/tiobe-index/</a></p></div></div></section>
<section id="_redmonk"><h2>RedMonk</h2><div class="slide-content"><div class="ulist"><ul><li><p>GitHub &amp; StackOverflow</p></li></ul></div></div></section>
<section id="_redmonk_2"><div class="slide-content"><div class="imageblock"><img src="images/redmonk2025.png" alt="redmonk2025" width="60%"></div>
<div class="paragraph"><p><a href="https://redmonk.com/" class="bare">https://redmonk.com/</a></p></div></div></section>
<section id="_redmonk_3"><div class="slide-content"><div class="imageblock"><img src="images/redmonk-rankings-2025.png" alt="redmonk rankings 2025" width="60%"></div>
<div class="paragraph"><p><a href="https://redmonk.com/" class="bare">https://redmonk.com/</a></p></div></div></section>
<section id="_three_decades_of_java_before_java_9"><h2>Three Decades of Java: Before Java 9</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code>JDK 1.0 (January 23, 1996)
JDK 1.1 (February 19, 1997)
J2SE 1.2 (December 8, 1998)
J2SE 1.3 (May 8, 2000)
J2SE 1.4 (February 6, 2002)
J2SE 5.0 (September 30, 2004)   &lt;--- Scala: early 2004
Java SE 6 (December 11, 2006)
-- Sun acquisition by Oracle--  &lt;--- Groovy 1.0: January 2, 2007
Java SE 7 (July 28, 2011)
Java SE 8 (March 18, 2014)      &lt;--- Kotlin 1.0: February 15, 2016
Java SE 9 (September 21, 2017)</code></pre></div></div>
<div class="paragraph"><p>(source: Wikipedia)</p></div></div></section>
<section id="_three_decades_of_java_after_java_9"><h2>Three Decades of Java: After Java 9</h2><div class="slide-content"><div class="paragraph"><p>6-monthly release cadence</p></div>
<table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code>10     (March 20, 2018)
11 LTS (September 25, 2018)
12     (March 19, 2019)
13     (September 17, 2019)
14     (March 17, 2020)
15     (September 15, 2020)
16     (March 16, 2021)
17 LTS (September 14, 2021)</code></pre></div></div></div></td><td class="tableblock halign-left valign-top"><div><div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code>18     (March 22, 2022)
19     (September 20, 2022)
20     (March 21, 2023)
21 LTS (September 19, 2023)
22     (March 19, 2024)
23     (September 17, 2024)
24     (March 18, 2025)
25 LTS (September 16, 2025)</code></pre></div></div></div></td></tr></table>
<div class="paragraph"><p>(source: Wikipedia)</p></div></div></section>
<section id="_истоки"><h2>Истоки</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-left valign-middle"><div><div class="imageblock"><img src="images/gosling-lotr.jpg" alt="gosling lotr"></div></div></td><td class="tableblock halign-left valign-middle"><div><div class="ulist"><ul><li><p>Язык для приставок кабельного телевидения</p></li><li><p>Вдохновлён C++</p></li><li><p><strong>WORA</strong></p></li><li><p>Было и другое, но WORA&#8201;&#8212;&#8201;самое главное</p></li></ul></div></div></td></tr></table>
<div class="paragraph fragment"><p><span class="icon"><i class="fa fa-youtube-play fa-lg"></i></span> Q&amp;A with James Gosling, June 2020:<br>
<a href="https://www.youtube.com/watch?v=XThhlihqTXI" class="bare">https://www.youtube.com/watch?v=XThhlihqTXI</a></p></div></div></section>
<section id="_вопрос"><h2>Вопрос</h2><div class="slide-content"><div class="paragraph"><p>Как бы вы реализовали WORA?</p></div>
<div class="ulist"><ul><li><p>Endianness&#8230;&#8203;</p></li><li><p>Размер регистров&#8230;&#8203;</p></li></ul></div></div></section>
<section id="_продолжение_истории"><h2>Продолжение истории</h2><div class="slide-content"><div class="ulist"><ul><li><p>Браузерные "Апплеты"</p></li><li><p>Built-in security</p></li><li><p>Но Security сделать оказалось непросто</p></li><li><p>Апплеты не пошли (в браузерах победил JavaScript)</p></li></ul></div></div></section>
<section id="_сегодняшний_день"><h2>Сегодняшний день</h2><div class="slide-content"><div class="ulist"><ul><li><p>Desktop (?)</p></li><li><p>Embedded Systems</p></li><li><p><strong>Server-side (backend)</strong></p></li><li><p>Mobile Devices (Android)&#8201;&#8212;&#8201;отдельная история (see <a href="https://en.wikipedia.org/wiki/Google_v._Oracle_America">Google vs. Oracle</a> case)</p></li></ul></div></div></section>
<section id="_безопасность_в_design_time_и_в_run_time"><h2>Безопасность в design-time и в run-time</h2><div class="slide-content"><div class="imageblock"><img src="images/rtvscompiletime.png" alt="rtvscompiletime"></div></div></section>
<section id="_виртуальная_машина"><h2>Виртуальная машина</h2><div class="slide-content"><div class="paragraph"><p>WORA + Две взаимосвязанные задачи:</p></div>
<div class="ulist"><ul><li><p>Безопасность</p></li><li><p>Исключение фатальных сбоев на сервере</p></li></ul></div>
<div class="paragraph fragment"><p>Генерируем байт-код, верифицируем и исполняем его в безопасной среде</p></div></div></section>
<section id="_вопрос_2"><h2>Вопрос</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="java"><span style="color: #445588;font-weight: bold">int</span> <span style="background-color: #f8f8f8">i</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #009999">2</span><span style="color: #000000;font-weight: bold">;</span>
<span style="background-color: #f8f8f8">i</span> <span style="color: #000000;font-weight: bold">=</span> <span style="color: #000000;font-weight: bold">++</span><span style="background-color: #f8f8f8">i</span> <span style="color: #000000;font-weight: bold">+</span> <span style="color: #000000;font-weight: bold">++</span><span style="background-color: #f8f8f8">i</span> <span style="color: #000000;font-weight: bold">+</span> <span style="color: #000000;font-weight: bold">++</span><span style="background-color: #f8f8f8">i</span><span style="color: #000000;font-weight: bold">;</span></code></pre></div></div>
<div class="paragraph fragment"><p><strong>Java</strong>&#8201;&#8212;&#8201;12,<br>
<strong>C</strong>&#8201;&#8212;&#8201;undefined behaviour<br>
(<a href="https://stackoverflow.com/questions/3879176/i-i-i-in-java-vs-c" class="bare">https://stackoverflow.com/questions/3879176/i-i-i-in-java-vs-c</a>)</p></div></div></section>
<section id="_runtime_ошибки_не_катастрофичны"><h2>Runtime-ошибки не катастрофичны</h2><div class="slide-content"><div class="ulist"><ul><li><p><code>NullPointerException</code></p></li><li><p><code>ArrayIndexOutOfBoundsException</code></p></li></ul></div></div></section>
<section id="_виртуальные_машины_java"><h2>Виртуальные машины Java</h2><div class="slide-content"><div class="paragraph"><p>Reference implementation: Oracle HotSpot</p></div>
<div class="paragraph"><p><a href="https://en.wikipedia.org/wiki/List_of_Java_virtual_machines" class="bare">https://en.wikipedia.org/wiki/List_of_Java_virtual_machines</a></p></div>
<div class="paragraph"><p>~ 20 реализаций</p></div></div></section>
<section id="_сервисы_виртуальной_машины_и_платформы"><h2>Сервисы виртуальной машины и платформы</h2><div class="slide-content"><div class="ulist"><ul><li class="fragment"><p>Byte code, интерпретация и JIT-компиляция.</p></li><li class="fragment"><p>Garbage Collection</p></li><li class="fragment"><p>MultiThreading &amp; Memory Model</p></li><li class="fragment"><p>Загрузка и исполнение кода в runtime</p></li><li class="fragment"><p>Рефлексия</p></li><li class="fragment"><p>Стандартная библиотека</p></li></ul></div></div></section>
<section id="_верификация_байт_кода"><h2>Верификация байт-кода</h2><div class="slide-content"><div class="paragraph"><p><a href="https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.10" class="bare">https://docs.oracle.com/javase/specs/jvms/se7/html/jvms-4.html#jvms-4.10</a></p></div>
<div class="ulist"><ul><li><p>There are no operand stack overflows or underflows.</p></li><li><p>All local variable uses and stores are valid.</p></li><li><p>The arguments to all the Java Virtual Machine instructions are of valid types.</p></li></ul></div></div></section>
<section id="_интерпретация_и_jit_компиляция"><h2>Интерпретация и JIT-компиляция</h2><div class="slide-content"><div class="imageblock"><img src="images/java-bytecode-exec.jpg" alt="java bytecode exec"></div></div></section>
<section id="_оптимизация_на_лету"><h2>Оптимизация «на лету»</h2><div class="slide-content"><div class="imageblock"><img src="images/codecache.png" alt="codecache" width="50%"></div></div></section>
<section id="_garbage_collection"><h2>Garbage Collection</h2><div class="slide-content"><div class="ulist"><ul><li class="fragment"><p>Разработчику не нужно заботиться о высвобождении памяти</p></li><li class="fragment"><p>Ссылок на объект нет?&#8201;&#8212;&#8201;garbage collection</p></li><li class="fragment"><p>Достоинства:</p><div class="ulist"><ul><li><p>Меньше кода</p></li><li><p>Не бывает некорректных ссылок (на разрушенный объект)</p></li><li><p>Меньше утечек памяти</p></li></ul></div></li><li class="fragment"><p>Недостатки:</p><div class="ulist"><ul><li><p>Не контролируем время работы GC</p></li><li><p>STW-паузы (бывает, в неподходящий момент)</p></li></ul></div></li></ul></div></div></section>
<section id="_как_может_быть_устроен_gc"><h2>Как может быть устроен GC?</h2><div class="slide-content"><div class="ulist"><ul><li><p>Reference counting&#8201;&#8212;&#8201;циклы?</p></li><li><p>Mark &amp; sweep</p></li><li><p>Гипотеза поколений</p></li></ul></div></div></section>
<section id="_гипотеза_поколений"><h2>Гипотеза поколений</h2><div class="slide-content"><div class="imageblock"><img src="images/generations.png" alt="generations" width="50%"></div></div></section>
<section id="_типы_коллекторов"><h2>Типы коллекторов</h2><div class="slide-content"><div class="ulist"><ul><li><p>Serial (for single-threaded, client environments)</p></li><li><p>Parallel (default)</p></li><li><p>CMS (Concurrent mark and Sweep&#8201;&#8212;&#8201;shorter pauses, share processor resources)</p></li><li><p>G1 (Garbage First&#8201;&#8212;&#8201;big heaps)</p></li><li><p>Shenandoah (submillisecond pauses)</p></li><li><p>Epsilon (no GC)</p></li></ul></div></div></section>
<section id="_latency_vs_throughput_tradeoff"><h2>Latency vs. Throughput tradeoff</h2><div class="slide-content"><div class="imageblock"><img src="images/seesaw.jpg" alt="seesaw" width="40%"></div></div></section>
<section id="_многопоточность"><h2>Многопоточность</h2><div class="slide-content"><div class="ulist"><ul><li><p>Возможность запуска параллельных потоков выполнения встроена в язык с первой версии (<code>Thread</code>, <code>Runnable</code> etc)</p></li><li><p>JDK 1.5: существенные дополнения (executor, semaphore, mutex, barrier, latches, concurrent collections,  blocking queues)</p></li><li><p>JDK 1.7: <code>ForkJoinPool</code> (work-stealing technique)</p></li><li><p>JDK 1.8: <code>CompletableFuture</code></p></li><li><p>Java SE 21: Project Loom: virtual threads</p></li></ul></div></div></section>
<section id="_модель_памяти"><h2>Модель памяти</h2><div class="slide-content"><div class="ulist"><ul><li><p>Memory Model: часть спецификации VM: модель того, как работает хранилище данных</p></li><li><p>Отвечает на вопрос: «какие значения может прочитать конкретный read в программе?»</p></li></ul></div></div></section>
<section id="_когда_нужна_memory_model"><h2>Когда нужна memory model?</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="java"><span style="color: #000000;font-weight: bold">class</span> <span style="color: #445588;font-weight: bold">DumbWayToFallAsleep</span> <span style="color: #000000;font-weight: bold">implements</span> <span style="color: #445588;font-weight: bold">Runnable</span> <span style="color: #000000;font-weight: bold">{</span>
  <span style="color: #000000;font-weight: bold">private</span> <span style="color: #445588;font-weight: bold">boolean</span> <span style="background-color: #f8f8f8">asleep</span><span style="color: #000000;font-weight: bold">;</span>

  <span style="color: #000000;font-weight: bold">public</span> <span style="color: #445588;font-weight: bold">void</span> <span style="color: #990000;font-weight: bold">setAsleep</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #445588;font-weight: bold">boolean</span> <span style="background-color: #f8f8f8">asleep</span><span style="color: #000000;font-weight: bold">){</span>
    <span style="color: #000000;font-weight: bold">this</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">asleep</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">asleep</span><span style="color: #000000;font-weight: bold">;</span>
  <span style="color: #000000;font-weight: bold">}</span>

  <span style="color: #3c5d5d;font-weight: bold">@Override</span>
  <span style="color: #000000;font-weight: bold">public</span> <span style="color: #445588;font-weight: bold">void</span> <span style="color: #990000;font-weight: bold">run</span><span style="color: #000000;font-weight: bold">()</span> <span style="color: #000000;font-weight: bold">{</span>
    <span style="color: #000000;font-weight: bold">while</span> <span style="color: #000000;font-weight: bold">(!</span><span style="background-color: #f8f8f8">asleep</span><span style="color: #000000;font-weight: bold">){</span>
      <span style="color: #999988;font-style: italic">//countSomeSheep</span>
      <span style="color: #999988;font-style: italic">//УСНЁМ ЛИ МЫ?</span>
    <span style="color: #000000;font-weight: bold">}</span>
  <span style="color: #000000;font-weight: bold">}</span>
<span style="color: #000000;font-weight: bold">}</span></code></pre></div></div></div></section>
<section id="_когда_нужна_memory_model_2"><h2>Когда нужна memory model?</h2><div class="slide-content"><div class="listingblock"><div class="content"><pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="java"><span style="color: #000000;font-weight: bold">class</span> <span style="color: #445588;font-weight: bold">NotSoDumbWayToFallAsleep</span> <span style="color: #000000;font-weight: bold">implements</span> <span style="color: #445588;font-weight: bold">Runnable</span> <span style="color: #000000;font-weight: bold">{</span>
  <span style="color: #000000;font-weight: bold">private</span> <span style="color: #000000;font-weight: bold">volatile</span> <span style="color: #445588;font-weight: bold">boolean</span> <span style="background-color: #f8f8f8">asleep</span><span style="color: #000000;font-weight: bold">;</span>

  <span style="color: #000000;font-weight: bold">public</span> <span style="color: #445588;font-weight: bold">void</span> <span style="color: #990000;font-weight: bold">setAsleep</span><span style="color: #000000;font-weight: bold">(</span><span style="color: #445588;font-weight: bold">boolean</span> <span style="background-color: #f8f8f8">asleep</span><span style="color: #000000;font-weight: bold">){</span>
    <span style="color: #000000;font-weight: bold">this</span><span style="color: #000000;font-weight: bold">.</span><span style="color: #008080">asleep</span> <span style="color: #000000;font-weight: bold">=</span> <span style="background-color: #f8f8f8">asleep</span><span style="color: #000000;font-weight: bold">;</span>
  <span style="color: #000000;font-weight: bold">}</span>

  <span style="color: #3c5d5d;font-weight: bold">@Override</span>
  <span style="color: #000000;font-weight: bold">public</span> <span style="color: #445588;font-weight: bold">void</span> <span style="color: #990000;font-weight: bold">run</span><span style="color: #000000;font-weight: bold">()</span> <span style="color: #000000;font-weight: bold">{</span>
    <span style="color: #000000;font-weight: bold">while</span> <span style="color: #000000;font-weight: bold">(!</span><span style="background-color: #f8f8f8">asleep</span><span style="color: #000000;font-weight: bold">){</span>
      <span style="color: #999988;font-style: italic">//countSomeSheep</span>
      <span style="color: #999988;font-style: italic">//...</span>
    <span style="color: #000000;font-weight: bold">}</span>
  <span style="color: #000000;font-weight: bold">}</span>
<span style="color: #000000;font-weight: bold">}</span></code></pre></div></div></div></section>
<section id="_загрузка_и_исполнение_кода_в_runtime"><h2>Загрузка и исполнение кода в runtime</h2><div class="slide-content"><div class="ulist"><ul><li><p>Скомпилированный байт-код класса может быть доставлен на любую систему в runtime (чаще всего «подкладыванием файла» на файловую систему).</p></li><li><p>Пересборка/линковка не требуется.</p></li></ul></div></div></section>
<section id="_сериализация_объектов_встроенная_в_язык"><h2>Сериализация объектов, встроенная в язык</h2><div class="slide-content"><div class="ulist"><ul><li><p>Идея, в начале казавшаяся очень хорошей!</p></li></ul></div></div></section>
<section id="_рефлексия"><h2>Рефлексия</h2><div class="slide-content"><div class="ulist"><ul><li><p>Исследование информации о классах, полях, методах и т. д. во время выполнения</p></li><li><p>Чтение/модификация полей (в том числе private!) и динамический вызов методов (в том числе private!)</p></li><li><p>Proxy и AOP</p></li></ul></div></div></section>
<section id="_постоянно_совершенствуемая_стандартная_библиотека"><h2>Постоянно совершенствуемая стандартная библиотека</h2><div class="slide-content"><div class="ulist"><ul><li class="fragment"><p>Независимая от системы часть</p><div class="ulist"><ul><li><p>Структуры данных</p></li><li><p>Математика</p></li></ul></div></li><li class="fragment"><p>Зависимая от системы часть</p><div class="ulist"><ul><li><p>Дата и время</p></li><li><p>Доступ к файловой системе</p></li><li><p>Доступ к сети</p></li><li><p>Пользовательский интерфейс</p></li></ul></div></li></ul></div></div></section>
<section id="_обратная_совместимость"><h2>Обратная совместимость</h2><div class="slide-content"><div class="ulist"><ul><li class="fragment"><p>Любой, как угодно давно скомпилированный .jar-файл может быть запущен на любой современной JVM</p></li><li class="fragment"><p>Дар или проклятие?</p></li></ul></div></div></section>
<section id="_критика_языка_и_платформы_джава"><h2>Критика языка и платформы Джава</h2><div class="slide-content"><div class="ulist"><ul><li><p>Тормозит</p></li><li><p>Потребляет слишком много памяти</p></li><li><p>Медленно стартует</p></li><li><p>Многословна (слишком много "boilerplate code")</p></li><li><p>Язык консервативен, медленно развивается</p></li></ul></div></div></section>
<section id="_критика_языка_и_платформы_джава_2"><h2>Критика языка и платформы Джава</h2><div class="slide-content"><div class="ulist"><ul><li><p>Тормозит&#8201;&#8212;&#8201;<strong>нет</strong></p></li><li><p>Потребляет слишком много памяти&#8201;&#8212;&#8201;<strong>нет</strong></p></li><li><p>Медленно стартует&#8201;&#8212;&#8201;<strong>отчасти да</strong></p></li><li><p>Многословна (слишком много "boilerplate code")&#8201;&#8212;&#8201;<strong>что да то да, но с Lombok и современной джавой это чинится</strong></p></li><li><p>Язык консервативен, медленно развивается&#8201;&#8212;&#8201;<strong>уже нет</strong></p></li></ul></div></div></section>
<section id="_развитие_языка_c_10й_версии_6_months_release_cadence"><h2>Развитие языка c 10й версии (6-months release cadence)</h2><div class="slide-content"><div class="ulist"><ul><li><p>type inference (<code>var</code>),</p></li><li><p>switch expressions,</p></li><li><p>text blocks</p></li><li><p>sealed classes,</p></li><li><p>pattern matching (<code>instanceof</code>, <code>switch</code>),</p></li><li><p>records,</p></li><li><p>unnamed main classes,</p></li><li><p>virtual threads,</p></li><li><p>string templates (dropped)&#8230;&#8203;</p></li></ul></div></div></section>
<section id="_текущие_проекты"><h2>Текущие проекты</h2><div class="slide-content"><div class="ulist"><ul><li><p>Project Amber: productivity-oriented features</p></li><li><p>Project Loom: fibers &amp; continuators</p></li><li><p>Project Valhalla: value types &amp; generic specialization</p></li><li><p>Graal, Panama, Kulla, Sumatra&#8230;&#8203;</p></li></ul></div></div></section>
<section id="_языки"><div class="slide-content"><div class="imageblock"><img src="images/pirates.png" alt="pirates" width="10%"></div></div></section>
<section id="_разнообразие_языков_для_java_машины"><h2>Разнообразие языков для Java-машины</h2><div class="slide-content"><div class="ulist"><ul><li><p>Есть виртуальная машина&#8201;&#8212;&#8201;можно компилировать из любого языка!</p></li><li><p><a href="https://en.wikipedia.org/wiki/List_of_JVM_languages" class="bare">https://en.wikipedia.org/wiki/List_of_JVM_languages</a></p></li><li><p>20-30 языков</p><div class="ulist"><ul><li><p>Специально созданные: Groovy, Scala, Kotlin&#8230;&#8203;</p></li><li><p>Реимплементация для JVM: JRuby, Clojure (Lisp dialect), Nashorn/Graal.js&#8230;&#8203;</p></li></ul></div></li><li><p><a href="https://jaxenter.com/wp-content/uploads/2017/03/Pirates-of-the-JVM-JAXenter-768x4245.png" class="bare">https://jaxenter.com/wp-content/uploads/2017/03/Pirates-of-the-JVM-JAXenter-768x4245.png</a></p></li></ul></div></div></section>
<section id="_важнейшие_элементы_экосистемы_за_рамками_стандартной_библиотеки"><h2>Важнейшие элементы экосистемы (за рамками стандартной библиотеки)</h2><div class="slide-content"><div class="ulist"><ul><li><p>Библиотеки и фреймворки (в т. ч. для тестирования)</p></li><li><p>Среды разработки</p></li><li><p>Системы сборки</p></li><li><p>CI</p></li></ul></div></div></section>
<section id="_junit"><h2>JUnit</h2><div class="slide-content"><div class="paragraph"><p>модульное тестирование и автоматизация тестов</p></div>
<div class="imageblock"><img src="images/junit5.jpg" alt="junit5"></div></div></section>
<section id="_spring_framework"><h2>Spring Framework</h2><div class="slide-content"><div class="paragraph"><p>DI container and application framework</p></div>
<div class="imageblock"><img src="images/springframework.png" alt="springframework" width="40%"></div></div></section>
<section id="_среды_разработки"><h2>Среды разработки</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-center valign-middle"><div><div class="paragraph"><p><span class="image"><img src="images/IntelliJ_IDEA_Logo.svg" alt="IntelliJ IDEA Logo" width="20%"></span></p></div>
<div class="paragraph"><p>IDEA</p></div>
<div class="paragraph"><p>(proprietary, JetBrains)</p></div></div></td><td class="tableblock halign-center valign-middle"><div><div class="paragraph"><p><span class="image"><img src="images/Apache_NetBeans_Logo.svg" alt="Apache NetBeans Logo" width="20%"></span></p></div>
<div class="paragraph"><p>NetBeans</p></div>
<div class="paragraph"><p>(ASF / Oracle)</p></div></div></td></tr><tr><td class="tableblock halign-center valign-middle"><div><div class="paragraph"><p><span class="image"><img src="images/Eclipse-Luna-Logo.svg" alt="Eclipse Luna Logo"></span></p></div>
<div class="paragraph"><p>Eclipse Foundation</p></div></div></td><td class="tableblock halign-center valign-middle"><div><div class="paragraph"><p><span class="image"><img src="images/vscode.png" alt="vscode" width="30%"></span></p></div>
<div class="paragraph"><p>VS Code</p></div>
<div class="paragraph"><p>(Microsoft)</p></div></div></td></tr></table></div></section>
<section id="_системы_сборки"><h2>Системы сборки</h2><div class="slide-content"><table class="tableblock frame-all grid-all" style="width:100%"><colgroup><col style="width:50%"><col style="width:50%"></colgroup><tbody><tr><td class="tableblock halign-center valign-top"><div><div class="imageblock"><img src="images/mavenlogo.svg" alt="mavenlogo" width="40%"></div>
<div class="paragraph"><p>XML configuration<br>
Maven project layout<br>
Maven Central<br>
plugins<br>
declarative</p></div></div></td><td class="tableblock halign-center valign-top"><div><div class="imageblock"><img src="images/gradlelogo.png" alt="gradlelogo" width="50%"></div>
<div class="paragraph"><p>Groovy DSL / Kotlin DSL<br>
plugins<br>
scripts<br>
mixed declarative/imperative</p></div></div></td></tr></table></div></section>
<section id="_java_community"><h2>Java community</h2><div class="slide-content"><div class="ulist"><ul><li><p>JUGs (в крупных городах)</p></li><li><p>Conferences (Joker/JPoint/SnowOne, DevoXX etc.)</p></li></ul></div>
<div class="imageblock"><img src="images/duke.svg" alt="duke"></div></div></section>
<section id="_oracle_certification_exams"><h2>Oracle certification exams</h2><div class="slide-content"><div class="paragraph"><p>OCA/OCP (search for "Oracle Java Certification")</p></div>
<div class="imageblock"><img src="images/oca.png" alt="oca" width="60%"></div></div></section>
<section id="_hello_world"><h2>Hello, world!</h2><div class="slide-content"><div class="paragraph"><p>Сборка и запуск jar-файла</p></div></div></section></div></div><script src="reveal.js-3.9.2/js/reveal.js"></script><script>Array.prototype.slice.call(document.querySelectorAll('.slides section')).forEach(function(slide) {
  if (slide.getAttribute('data-background-color')) return;
  // user needs to explicitly say he wants CSS color to override otherwise we might break custom css or theme (#226)
  if (!(slide.classList.contains('canvas') || slide.classList.contains('background'))) return;
  var bgColor = getComputedStyle(slide).backgroundColor;
  if (bgColor !== 'rgba(0, 0, 0, 0)' && bgColor !== 'transparent') {
    slide.setAttribute('data-background-color', bgColor);
    slide.style.backgroundColor = 'transparent';
  }
});

// More info about config & dependencies:
// - https://github.com/hakimel/reveal.js#configuration
// - https://github.com/hakimel/reveal.js#dependencies
Reveal.initialize({
  // Display presentation control arrows
  controls: true,
  // Help the user learn the controls by providing hints, for example by
  // bouncing the down arrow when they first encounter a vertical slide
  controlsTutorial: true,
  // Determines where controls appear, "edges" or "bottom-right"
  controlsLayout: 'bottom-right',
  // Visibility rule for backwards navigation arrows; "faded", "hidden"
  // or "visible"
  controlsBackArrows: 'faded',
  // Display a presentation progress bar
  progress: true,
  // Display the page number of the current slide
  slideNumber: true,
  // Control which views the slide number displays on
  showSlideNumber: 'all',
  // Add the current slide number to the URL hash so that reloading the
  // page/copying the URL will return you to the same slide
  hash: false,
  // Push each slide change to the browser history. Implies `hash: true`
  history: true,
  // Enable keyboard shortcuts for navigation
  keyboard: true,
  // Enable the slide overview mode
  overview: true,
  // Disables the default reveal.js slide layout so that you can use custom CSS layout
  disableLayout: false,
  // Vertical centering of slides
  center: false,
  // Enables touch navigation on devices with touch input
  touch: true,
  // Loop the presentation
  loop: false,
  // Change the presentation direction to be RTL
  rtl: false,
  // See https://github.com/hakimel/reveal.js/#navigation-mode
  navigationMode: 'default',
  // Randomizes the order of slides each time the presentation loads
  shuffle: false,
  // Turns fragments on and off globally
  fragments: true,
  // Flags whether to include the current fragment in the URL,
  // so that reloading brings you to the same fragment position
  fragmentInURL: false,
  // Flags if the presentation is running in an embedded mode,
  // i.e. contained within a limited portion of the screen
  embedded: false,
  // Flags if we should show a help overlay when the questionmark
  // key is pressed
  help: true,
  // Flags if speaker notes should be visible to all viewers
  showNotes: false,
  // Global override for autolaying embedded media (video/audio/iframe)
  // - null: Media will only autoplay if data-autoplay is present
  // - true: All media will autoplay, regardless of individual setting
  // - false: No media will autoplay, regardless of individual setting
  autoPlayMedia: null,
  // Global override for preloading lazy-loaded iframes
  // - null: Iframes with data-src AND data-preload will be loaded when within
  //   the viewDistance, iframes with only data-src will be loaded when visible
  // - true: All iframes with data-src will be loaded when within the viewDistance
  // - false: All iframes with data-src will be loaded only when visible
  preloadIframes: null,
  // Number of milliseconds between automatically proceeding to the
  // next slide, disabled when set to 0, this value can be overwritten
  // by using a data-autoslide attribute on your slides
  autoSlide: 0,
  // Stop auto-sliding after user input
  autoSlideStoppable: true,
  // Use this method for navigation when auto-sliding
  autoSlideMethod: Reveal.navigateNext,
  // Specify the average time in seconds that you think you will spend
  // presenting each slide. This is used to show a pacing timer in the
  // speaker view
  defaultTiming: 120,
  // Specify the total time in seconds that is available to
  // present.  If this is set to a nonzero value, the pacing
  // timer will work out the time available for each slide,
  // instead of using the defaultTiming value
  totalTime: 0,
  // Specify the minimum amount of time you want to allot to
  // each slide, if using the totalTime calculation method.  If
  // the automated time allocation causes slide pacing to fall
  // below this threshold, then you will see an alert in the
  // speaker notes window
  minimumTimePerSlide: 0,
  // Enable slide navigation via mouse wheel
  mouseWheel: true,
  // Hide cursor if inactive
  hideInactiveCursor: true,
  // Time before the cursor is hidden (in ms)
  hideCursorTime: 5000,
  // Hides the address bar on mobile devices
  hideAddressBar: true,
  // Opens links in an iframe preview overlay
  // Add `data-preview-link` and `data-preview-link="false"` to customise each link
  // individually
  previewLinks: false,
  // Transition style (e.g., none, fade, slide, convex, concave, zoom)
  transition: 'none',
  // Transition speed (e.g., default, fast, slow)
  transitionSpeed: 'default',
  // Transition style for full page slide backgrounds (e.g., none, fade, slide, convex, concave, zoom)
  backgroundTransition: 'fade',
  // Number of slides away from the current that are visible
  viewDistance: 3,
  // Number of slides away from the current that are visible on mobile
  // devices. It is advisable to set this to a lower number than
  // viewDistance in order to save resources.
  mobileViewDistance: 3,
  // Parallax background image (e.g., "'https://s3.amazonaws.com/hakim-static/reveal-js/reveal-parallax-1.jpg'")
  parallaxBackgroundImage: '',
  // Parallax background size in CSS syntax (e.g., "2100px 900px")
  parallaxBackgroundSize: '',
  // Number of pixels to move the parallax background per slide
  // - Calculated automatically unless specified
  // - Set to 0 to disable movement along an axis
  parallaxBackgroundHorizontal: null,
  parallaxBackgroundVertical: null,
  // The display mode that will be used to show slides
  display: 'block',

  // The "normal" size of the presentation, aspect ratio will be preserved
  // when the presentation is scaled to fit different resolutions. Can be
  // specified using percentage units.
  width: 1600,
  height: 900,

  // Factor of the display size that should remain empty around the content
  margin: 0.1,

  // Bounds for smallest/largest possible scale to apply to content
  minScale: 0.2,
  maxScale: 1.5,

  // PDF Export Options
  // Put each fragment on a separate page
  pdfSeparateFragments: true,
  // For slides that do not fit on a page, max number of pages
  pdfMaxPagesPerSlide: 1,

  // Optional libraries used to extend on reveal.js
  dependencies: [
      { src: 'reveal.js-3.9.2/plugin/zoom-js/zoom.js', async: true },
      { src: 'reveal.js-3.9.2/plugin/notes/notes.js', async: true }
  ],

  

});</script><script>var dom = {};
dom.slides = document.querySelector('.reveal .slides');

function getRemainingHeight(element, slideElement, height) {
  height = height || 0;
  if (element) {
    var newHeight, oldHeight = element.style.height;
    // Change the .stretch element height to 0 in order find the height of all
    // the other elements
    element.style.height = '0px';
    // In Overview mode, the parent (.slide) height is set of 700px.
    // Restore it temporarily to its natural height.
    slideElement.style.height = 'auto';
    newHeight = height - slideElement.offsetHeight;
    // Restore the old height, just in case
    element.style.height = oldHeight + 'px';
    // Clear the parent (.slide) height. .removeProperty works in IE9+
    slideElement.style.removeProperty('height');
    return newHeight;
  }
  return height;
}

function layoutSlideContents(width, height) {
  // Handle sizing of elements with the 'stretch' class
  toArray(dom.slides.querySelectorAll('section .stretch')).forEach(function (element) {
    // Determine how much vertical space we can use
    var limit = 5; // hard limit
    var parent = element.parentNode;
    while (parent.nodeName !== 'SECTION' && limit > 0) {
      parent = parent.parentNode;
      limit--;
    }
    if (limit === 0) {
      // unable to find parent, aborting!
      return;
    }
    var remainingHeight = getRemainingHeight(element, parent, height);
    // Consider the aspect ratio of media elements
    if (/(img|video)/gi.test(element.nodeName)) {
      var nw = element.naturalWidth || element.videoWidth, nh = element.naturalHeight || element.videoHeight;
      var es = Math.min(width / nw, remainingHeight / nh);
      element.style.width = (nw * es) + 'px';
      element.style.height = (nh * es) + 'px';
    } else {
      element.style.width = width + 'px';
      element.style.height = remainingHeight + 'px';
    }
  });
}

function toArray(o) {
  return Array.prototype.slice.call(o);
}

Reveal.addEventListener('slidechanged', function () {
  layoutSlideContents(1600, 900)
});
Reveal.addEventListener('ready', function () {
  layoutSlideContents(1600, 900)
});
Reveal.addEventListener('resize', function () {
  layoutSlideContents(1600, 900)
});</script></body></html>