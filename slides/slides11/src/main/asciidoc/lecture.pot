#. extracted from lecture.adoc
#, fuzzy
msgid ""
msgstr ""
"Project-Id-Version: PACKAGE VERSION\n"
"Report-Msgid-Bugs-To: \n"
"POT-Creation-Date: 2023-02-24 21:31+0300\n"
"PO-Revision-Date: YEAR-MO-DA HO:MI+ZONE\n"
"Last-Translator: FULL NAME <EMAIL@ADDRESS>\n"
"Language-Team: LANGUAGE <LL@li.org>\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"X-Generator: Translate Toolkit 2.2.5\n"

#: lecture.adoc:25
msgid ""
"= Core Java. Лекция 11: Java Concurrency (окончание). Annotations\n"
"Иван Пономарёв, КУРС/МФТИ\n"
":revealjs_theme: black\n"
":revealjs_customtheme: white_course.css\n"
":revealjs_slideNumber:\n"
":revealjs_history:\n"
":revealjs_progress:\n"
":encoding: UTF-8\n"
":lang: ru\n"
"include::_doc_general_attributes.adoc[]\n"
":doctype: article\n"
":toclevels: 3\n"
":imagesdir: images\n"
":source-highlighter: highlightjs\n"
":highlightjsdir: highlight\n"
":icons: font\n"
":iconfont-remote!:\n"
":iconfont-name: font-awesome-4.7.0/css/font-awesome\n"
":revealjs_mouseWheel: true\n"
":revealjs_center: false\n"
":revealjs_transition: none\n"
":revealjs_width: 1600\n"
":revealjs_height: 900\n"
":stem: latexmath"
msgstr ""

#: lecture.adoc:28
msgid ":!figure-caption:"
msgstr ""

#: lecture.adoc:30
msgid "ponomarev@corchestra.ru"
msgstr ""

#: lecture.adoc:32
msgid "icon:twitter[size=lg] @inponomarev"
msgstr ""

#: lecture.adoc:34
msgid "== Часть 3. Потокобезопасные структуры данных"
msgstr ""

#: lecture.adoc:36
msgctxt "lecture.adoc:36"
msgid "image::hydra2.jpg[{image-90-width}]"
msgstr ""

#: lecture.adoc:38
msgid "== Неблокирующие алгоритмы"
msgstr ""

#: lecture.adoc:43
msgid ""
"* Блокировка (через `synchronized` или `ReentrantLock`) решает вопрос "
"координации действий разных тредов с переменной.\n"
"* Но если много тредов конкурируют за блокировку (high lock contention), "
"затраты ресурсов на координацию тредов становятся значительными.\n"
"* Альтернативой являются _неблокирующие алгоритмы_, использующие поддержку "
"специальных атомарных машинных инструкций (compare-and-swap).\n"
"* В Java-библиотеке доступны _классы атомарных переменных_ и "
"_потокобезопасные коллекции_, реализованные в том числе на неблокирующих "
"алгоритмах."
msgstr ""

#: lecture.adoc:45
msgid "== Atomics "
msgstr ""

#: lecture.adoc:52
msgid ""
"* `package java.util.concurrent.atomic`\n"
"** `AtomicBoolean`, `AtomicInteger`, `AtomicLong`, `AtomicReference`.\n"
"** `AtomicIntegerArray`, `AtomicLongArray`, `AtomicReferenceArray`.\n"
"* Могут быть использованы как «улучшенные volatile-переменные», т. к. "
"результат вызова `set(...)` виден другим тредам при вызове `get(...)`\n"
"* Поддерживают атомарные операции."
msgstr ""

#: lecture.adoc:54
msgid "== Aтомарные операции в классах атомарных переменных"
msgstr ""

#: lecture.adoc:57
msgid ""
"----\n"
"getAndSet(newValue)    compareAndSet(expect, update) "
msgstr ""

#: lecture.adoc:59
msgid "incrementAndGet()      decrementAndGet()"
msgstr ""

#: lecture.adoc:61
msgid "getAndIncrement()      getAndDecrement()"
msgstr ""

#: lecture.adoc:63
msgid "getAndAdd(delta)       addAndGet(delta)"
msgstr ""

#: lecture.adoc:66
msgid ""
"getAndUpdate(updateFunction)\n"
"updateAndGet(updateFunction)"
msgstr ""

#: lecture.adoc:70
msgid ""
"getAndAccumulate(x, accumulatorBiFunction)\n"
"accumulateAndGet(x, accumulatorBiFunction)\n"
"----"
msgstr ""

#: lecture.adoc:73
msgid "== Потокобезопасные коллекции"
msgstr ""

#: lecture.adoc:78
msgid ""
"* В ранних версиях Java можно было «сделать» коллекцию потокобезопасной, "
"обернув в `Collections.synchronizedXXX(...)`. Это сериализовывало любой "
"доступ к внутреннему состоянию коллекции. Из-за поддержки обратной "
"совместимости сейчас так тоже можно, но не нужно.\n"
"* Цена такого решения -- плохой параллелизм: конкуренция за блокировку (lock "
"contention).\n"
"* С версии 5 появились классы, специально разработанные для "
"потокобезопасности, с меньшим количеством блокировок.\n"
"* Их использование является _предпочтительным_."
msgstr ""

#: lecture.adoc:86
msgid ""
"== CopyOnWriteArrayList и CopyOnWriteArraySet\n"
"[source,java]\n"
"----\n"
"class CopyOnWriteArrayList<E> implements List<E>\n"
"class CopyOnWriteArraySet<E> extends AbstractSet<E>\n"
"----"
msgstr ""

#: lecture.adoc:91
msgid ""
"* Структуры данных на основе массива.\n"
"* Пересоздают всё заново при каждой модификации.\n"
"* Это дорого, зато все читающие итераторы стабильны.\n"
"* Хороши, когда на одну операцию записи приходится много операций чтения."
msgstr ""

#: lecture.adoc:93
msgctxt "lecture.adoc:93"
msgid "== ConcurrentLinkedQueue/Deque"
msgstr ""

#: lecture.adoc:101
msgid ""
"[source,java]\n"
"----\n"
"ConcurrentLinkedQueue<E> extends AbstractQueue<E> \n"
"        implements Queue<E>\n"
"ConcurrentLinkedDeque<E> extends AbstractCollection<E>\n"
"        implements Deque<E>\n"
"----"
msgstr ""

#: lecture.adoc:105
msgid ""
"* Основаны на неблокирующем алгоритме (CAS-операции)\n"
"* `poll()` вернёт `null`, если очередь пуста\n"
"* Под капотом -- связные/двусвязные списки"
msgstr ""

#: lecture.adoc:107
msgctxt "lecture.adoc:107"
msgid "== ConcurrentLinkedQueue/Deque"
msgstr ""

#: lecture.adoc:181
msgid ""
"[graphviz]\n"
"--\n"
"digraph Java {\n"
"\trankdir=\"LR\";\n"
"\tnode[shape=plaintext];\n"
"\tgraph [ dpi = 180 ];\n"
"\tn1[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>ConcurrentLinkedQueue</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn2[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='3'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>item: 4</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>next: null</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn1 -> n2[label=\"tail\",fontsize=12,constraint=\"false\"];\n"
"\tn3[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>item: null</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn4[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>item: 1</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn5[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>item: 2</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn6[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>item: 3</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn6 -> n2[label=\"next\",fontsize=12];\n"
"\tn5 -> n6[label=\"next\",fontsize=12];\n"
"\tn4 -> n5[label=\"next\",fontsize=12];\n"
"\tn3 -> n4[label=\"next\",fontsize=12];\n"
"\tn1 -> n3[label=\"head\",fontsize=12];\n"
"}"
msgstr ""

#: lecture.adoc:183
msgctxt "lecture.adoc:183"
msgid "--"
msgstr ""

#: lecture.adoc:264
msgid ""
"[graphviz]\n"
"--\n"
"digraph Java {\n"
"\trankdir=\"LR\";\n"
"\tnode[shape=plaintext];\n"
"\tgraph [ dpi = 180 ];\n"
"\tn1[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>ConcurrentLinkedDeque</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn2[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='3'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>item: 4</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>next: null</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn3[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>item: 3</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn3 -> n2[label=\"next\",fontsize=12];\n"
"\tn4[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>item: 2</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn4 -> n3[label=\"next\",fontsize=12];\n"
"\tn5[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>item: 1</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn5 -> n4[label=\"next\",fontsize=12];\n"
"\tn6[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='3'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>item: null</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>prev: null</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn6 -> n5[label=\"next\",fontsize=12];\n"
"\tn5 -> n6[label=\"prev\",fontsize=12,constraint=false];\n"
"\tn4 -> n5[label=\"prev\",fontsize=12,constraint=false];\n"
"\tn3 -> n4[label=\"prev\",fontsize=12,constraint=false];\n"
"\tn2 -> n3[label=\"prev\",fontsize=12,constraint=false];\n"
"\tn1 -> n2[label=\"tail\",fontsize=12,constraint=false];\n"
"\tn1 -> n6[label=\"head\",fontsize=12];\n"
"}"
msgstr ""

#: lecture.adoc:266
msgctxt "lecture.adoc:266"
msgid "--"
msgstr ""

#: lecture.adoc:269
msgid "== Блокирующие очереди: средство реализации producer-consumer pattern"
msgstr ""

#: lecture.adoc:273
msgid ""
"[plantuml, blockingqueue, png]\n"
"----\n"
"@startuml"
msgstr ""

#: lecture.adoc:275
msgid "skinparam dpi 150 "
msgstr ""

#: lecture.adoc:280
msgid ""
"interface BlockingQueue<E> {\n"
"  void put(E e) throws InterruptedException;\n"
"  E take() throws InterruptedException;\n"
"}"
msgstr ""

#: lecture.adoc:285
msgid ""
"class ArrayBlockingQueue<E>\n"
"class LinkedBlockingDeque<E>\n"
"class PriorityBlockingQueue<E>\n"
"class SynchronousQueue<E>"
msgstr ""

#: lecture.adoc:292
msgid ""
"BlockingQueue <|.. ArrayBlockingQueue\n"
"BlockingQueue <|.. LinkedBlockingDeque\n"
"BlockingQueue <|.. PriorityBlockingQueue\n"
"BlockingQueue <|.. SynchronousQueue\n"
"@enduml\n"
"----"
msgstr ""

#: lecture.adoc:297
msgid ""
"* Могут быть ограничены по размеру (capacity constrained).\n"
"* Методы `put()` и `take()` ждут, пока не появится возможность положить или "
"взять элемент.\n"
"* `PriorityBlockingQueue` не лимитируется по capacity.\n"
"* `SynchronousQueue` не имеет capacity вовсе, передаёт элементы "
"обрабатывающим тредам напрямую. "
msgstr ""

#: lecture.adoc:299
msgid "== ConcurrentHashMap"
msgstr ""

#: lecture.adoc:312
msgid ""
"[source,java]\n"
"----\n"
"class ConcurrentHashMap<K,V> extends AbstractMap<K,V>\n"
"    implements ConcurrentMap<K,V>\n"
"----\n"
"* Замена `HashMap` при разделённом доступе к данным.\n"
"* Не блокируется при чтении и редко блокируется при записи.\n"
"* Не позволяет использовать `null` в качестве ключа или значения.\n"
"* Полезные методы атомарны:\n"
"** `putIfAbsent(key, value)`\n"
"** `remove(key, value)`\n"
"** `replace(key, oldValue, newValue)`"
msgstr ""

#: lecture.adoc:314
msgid "== ConcurrentHashMap: Java 7-"
msgstr ""

#: lecture.adoc:365
msgid ""
"[graphviz]\n"
"--\n"
"digraph Java {\n"
"n382319160[label=\"ConcurrentHashMap|{segmentMask: 7|segmentShift: 29|keySet:"
" null|entrySet: null|values: null}\",shape=record];\n"
"n382319160 -> n521751118[label=\"segments\",fontsize=12];\n"
"n521751118[label=\"<f0>|<f1>|<f2>|<f3>|<f4>|<f5>|<f6>|<f7>\",shape=record];\n"
"n521751118:f0 -> n564898696[label=\"0\",fontsize=12];\n"
"n564898696[label=\"Segment|{count: 0|modCount: 0|threshold: 1|loadFactor: "
"0.75}\",shape=record];\n"
"n564898696 -> n1981440623[label=\"table\",fontsize=12];\n"
"n1981440623[shape=record, label=\"null|null\"];\n"
"n521751118:f1 -> n1043636732[label=\"1\",fontsize=12];\n"
"n1043636732[label=\"Segment|{count: 2|modCount: 2|threshold: 1|loadFactor: "
"0.75}\",shape=record];\n"
"n1043636732 -> n1903609675[label=\"table\",fontsize=12];\n"
"n1903609675[label=\"<f0>|<f1>\",shape=record];\n"
"n1903609675:f0 -> n295131993[label=\"0\",fontsize=12];\n"
"n295131993[label=\"HashEntry|{key: five|hash: 553292222|value: 5|next: null}"
"\",shape=record];\n"
"n1903609675:f1 -> n1743665428[label=\"1\",fontsize=12];\n"
"n1743665428[label=\"HashEntry|{key: three|hash: 1047845927|value: 3|next: "
"null}\",shape=record];\n"
"n521751118:f2 -> n1419115801[label=\"2\",fontsize=12];\n"
"n1419115801[label=\"Segment|{count: 0|modCount: 0|threshold: 1|loadFactor: "
"0.75}\",shape=record];\n"
"n1419115801 -> n1125883825[label=\"table\",fontsize=12];\n"
"n1125883825[shape=record, label=\"null|null\"];\n"
"n521751118:f3 -> n1251033058[label=\"3\",fontsize=12];\n"
"n1251033058[label=\"Segment|{count: 2|modCount: 2|threshold: 1|loadFactor: "
"0.75}\",shape=record];\n"
"n1251033058 -> n100218029[label=\"table\",fontsize=12];\n"
"n100218029[label=\"<f0>|<f1>\",shape=record];\n"
"n100218029:f0 -> n737234155[label=\"0\",fontsize=12];\n"
"n737234155[label=\"HashEntry|{key: one|hash: 1919294914|value: 1|next: null}"
"\",shape=record];\n"
"n100218029:f1 -> n1861283542[label=\"1\",fontsize=12];\n"
"n1861283542[label=\"HashEntry|{key: four|hash: 1850787001|value: 4|next: "
"null}\",shape=record];\n"
"n521751118:f4 -> n476651318[label=\"4\",fontsize=12];\n"
"n476651318[label=\"Segment|{count: 0|modCount: 0|threshold: 1|loadFactor: "
"0.75}\",shape=record];\n"
"n476651318 -> n183062162[label=\"table\",fontsize=12];\n"
"n183062162[shape=record, label=\"null|null\"];\n"
"n521751118:f5 -> n1529174230[label=\"5\",fontsize=12];\n"
"n1529174230[label=\"Segment|{count: 1|modCount: 1|threshold: 1|loadFactor: "
"0.75}\",shape=record];\n"
"n1529174230 -> n1894479961[label=\"table\",fontsize=12];\n"
"n1894479961[label=\"<f0>|<f1>\",shape=record];\n"
"n1894479961:f0 -> n1932154105[label=\"0\",fontsize=12];\n"
"n1932154105[label=\"HashEntry|{key: two|hash: -1406597098|value: 2|next: "
"null}\",shape=record];\n"
"n521751118:f6 -> n1613816448[label=\"6\",fontsize=12];\n"
"n1613816448[label=\"Segment|{count: 0|modCount: 0|threshold: 1|loadFactor: "
"0.75}\",shape=record];\n"
"n1613816448 -> n694579926[label=\"table\",fontsize=12];\n"
"n694579926[shape=record, label=\"null|null\"];\n"
"n521751118:f7 -> n332181545[label=\"7\",fontsize=12];\n"
"n332181545[label=\"Segment|{count: 0|modCount: 0|threshold: 1|loadFactor: "
"0.75}\",shape=record];\n"
"n332181545 -> n1665228262[label=\"table\",fontsize=12];\n"
"n1665228262[shape=record, label=\"null|null\"];\n"
"}\n"
"--"
msgstr ""

#: lecture.adoc:367
msgid "== ConcurrentHashMap: Java 8+"
msgstr ""

#: lecture.adoc:519
msgid ""
"[graphviz]\n"
"--\n"
"digraph Java {\n"
"\trankdir=\"TB\";\n"
"\tnode[shape=plaintext];\n"
"\tgraph [ dpi = 120 ];\n"
"\tn1[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='5'>ConcurrentHashMap</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>sizeCtl: 24</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>cellsBusy: 0</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>transferIndex: 0</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>baseCount: 5</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn2[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0' cellpadding='9'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td port=\"f0\"></td>\n"
"\t\t\t\t<td port=\"f1\"></td>\n"
"\t\t\t\t<td port=\"f2\"></td>\n"
"\t\t\t\t<td port=\"f3\"></td>\n"
"\t\t\t\t<td port=\"f4\"></td>\n"
"\t\t\t\t<td port=\"f5\"></td>\n"
"\t\t\t\t<td port=\"f6\"></td>\n"
"\t\t\t\t<td port=\"f7\"></td>\n"
"\t\t\t\t<td port=\"f8\"></td>\n"
"\t\t\t\t<td port=\"f9\"></td>\n"
"\t\t\t\t<td port=\"f10\"></td>\n"
"\t\t\t\t<td port=\"f11\"></td>\n"
"\t\t\t\t<td port=\"f12\"></td>\n"
"\t\t\t\t<td port=\"f13\"></td>\n"
"\t\t\t\t<td port=\"f14\"></td>\n"
"\t\t\t\t<td port=\"f15\"></td>\n"
"\t\t\t\t<td port=\"f16\"></td>\n"
"\t\t\t\t<td port=\"f17\"></td>\n"
"\t\t\t\t<td port=\"f18\"></td>\n"
"\t\t\t\t<td port=\"f19\"></td>\n"
"\t\t\t\t<td port=\"f20\"></td>\n"
"\t\t\t\t<td port=\"f21\"></td>\n"
"\t\t\t\t<td port=\"f22\"></td>\n"
"\t\t\t\t<td port=\"f23\"></td>\n"
"\t\t\t\t<td port=\"f24\"></td>\n"
"\t\t\t\t<td port=\"f25\"></td>\n"
"\t\t\t\t<td port=\"f26\"></td>\n"
"\t\t\t\t<td port=\"f27\"></td>\n"
"\t\t\t\t<td port=\"f28\"></td>\n"
"\t\t\t\t<td port=\"f29\"></td>\n"
"\t\t\t\t<td port=\"f30\"></td>\n"
"\t\t\t\t<td port=\"f31\"></td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn3[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='4'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>val: 1</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>hash: 110183</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: one</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn2:f7 -> n3[label=\"7\",fontsize=12];\n"
"\tn4[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='4'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>val: 2</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>hash: 115277</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: two</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn5[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='4'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>val: 3</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>hash: 110338829</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: three</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn4 -> n5[label=\"next\",fontsize=12];\n"
"\tn2:f13 -> n4[label=\"13\",fontsize=12];\n"
"\tn6[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='4'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>val: 4</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>hash: 3149078</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: four</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn2:f22 -> n6[label=\"22\",fontsize=12];\n"
"\tn7[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='4'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>val: 5</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>hash: 3143325</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: five</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn2:f29 -> n7[label=\"29\",fontsize=12];\n"
"\tn1 -> n2[label=\"table\",fontsize=12];\n"
"}\n"
"--"
msgstr ""

#: lecture.adoc:521
msgctxt "lecture.adoc:521"
msgid "== ConcurrentSkipListMap"
msgstr ""

#: lecture.adoc:530
msgid ""
"[source,java]\n"
"----\n"
"class ConcurrentSkipListMap<K,V> extends AbstractMap<K,V>\n"
"    implements ConcurrentNavigableMap<K,V>\n"
"----\n"
"* Замена `TreeMap` при разделённом доступе к данным.\n"
"* Не позволяет использовать `null` в качестве ключа или значения.\n"
"* Имеет атомарные методы."
msgstr ""

#: lecture.adoc:561
msgid ""
"== ConcurrentSkipListMap: идея\n"
"[graphviz]\n"
"--\n"
"digraph G {\n"
"    rankdir = LR;\n"
"    node[shape=box,label=\"\"];\n"
"    I1->I2->I3->IF[label=right];\n"
"    II1->II2->II3->II4->II5->II6->IIF[label=right];\n"
"    "
"N00->N01->N02->N03->N04->N05->N06->N07->N08->N09->N10->N11->NF[label=next];\n"
"    I1->II1->N00[label=\"                   down\"];\n"
"    II2->N03[label=\"                   down\"];\n"
"    I2->II3->N04[label=\"                   down\"];\n"
"    II4->N06[label=\"                   down\"];\n"
"    I3->II5->N09[label=\"                   down\"];\n"
"    II6->N11[label=\"                   down\"];\n"
"    {rank=same;I1;II1;N00}\n"
"    {rank=same;II2;N03}\n"
"    {rank=same;I2;II3;N04}\n"
"    {rank=same;II4;N06}\n"
"    {rank=same;I3;II5;N09}\n"
"    {rank=same;II6;N11}\n"
"    IF[shape=oval,label=\"null\"];\n"
"    IIF[shape=oval,label=\"null\"];\n"
"    NF[shape=oval,label=\"null\"];\n"
"    N01[label=\"A\"]; N02[label=\"B\"]; N03[label=\"C\"];\n"
"    N04[label=\"D\"]; N05[label=\"E\"]; N06[label=\"F\"];\n"
"    N07[label=\"G\"]; N08[label=\"H\"]; N09[label=\"I\"];\n"
"    N10[label=\"J\"]; N11[label=\"K\"]; \n"
"}\n"
"--"
msgstr ""

#: lecture.adoc:565
msgctxt "lecture.adoc:565"
msgid "== ConcurrentSkipListMap"
msgstr ""

#: lecture.adoc:567
msgid "//A"
msgstr ""

#: lecture.adoc:611
msgid ""
"[graphviz]\n"
"--\n"
"digraph Java {\n"
"\trankdir=\"LR\";\n"
"\tnode[shape=plaintext]\n"
"\tn1[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>ConcurrentSkipListMap</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>adder: 1</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn2[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn3[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn4[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: A</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn3 -> n4[label=\"next\",fontsize=12];\n"
"\tn2 -> n3[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn1 -> n2[label=\"head\",fontsize=12];\n"
"}"
msgstr ""

#: lecture.adoc:613
msgctxt "lecture.adoc:613"
msgid "--"
msgstr ""

#: lecture.adoc:615
msgctxt "lecture.adoc:615"
msgid "== ConcurrentSkipListMap"
msgstr ""

#: lecture.adoc:670
msgid ""
"[graphviz]\n"
"--\n"
"digraph Java {\n"
"\trankdir=\"LR\";\n"
"\tnode[shape=plaintext]\n"
"\tn1[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>ConcurrentSkipListMap</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>adder: 2</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn2[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn3[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn4[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: A</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn5[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: B</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn4 -> n5[label=\"next\",fontsize=12];\n"
"\tn3 -> n4[label=\"next\",fontsize=12];\n"
"\tn2 -> n3[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn1 -> n2[label=\"head\",fontsize=12];\n"
"}"
msgstr ""

#: lecture.adoc:672
msgctxt "lecture.adoc:672"
msgid "--"
msgstr ""

#: lecture.adoc:674
msgctxt "lecture.adoc:674"
msgid "== ConcurrentSkipListMap"
msgstr ""

#: lecture.adoc:768
msgid ""
"[graphviz]\n"
"--\n"
"digraph Java {\n"
"\trankdir=\"LR\";\n"
"\tnode[shape=plaintext]\n"
"\tn1[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>ConcurrentSkipListMap</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>adder: 3</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn2[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn3[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn4[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn5[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: C</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn4 -> n5[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn3 -> n4[label=\"right\",fontsize=12];\n"
"\tn6[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn7[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: A</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn8[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: B</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn8 -> n5[label=\"next\",fontsize=12];\n"
"\tn7 -> n8[label=\"next\",fontsize=12];\n"
"\tn6 -> n7[label=\"next\",fontsize=12];\n"
"\tn3 -> n6[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn2 -> n3[label=\"down\",fontsize=12,constraint=false];\n"
"\tn9[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn9 -> n4[label=\"down\",fontsize=12,constraint=false];\n"
"\tn9 -> n5[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn2 -> n9[label=\"right\",fontsize=12];\n"
"\tn2 -> n6[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn1 -> n2[label=\"head\",fontsize=12];\n"
"}"
msgstr ""

#: lecture.adoc:770
msgctxt "lecture.adoc:770"
msgid "--"
msgstr ""

#: lecture.adoc:772
msgctxt "lecture.adoc:772"
msgid "== ConcurrentSkipListMap"
msgstr ""

#: lecture.adoc:886
msgid ""
"[graphviz]\n"
"--\n"
"digraph Java {\n"
"\trankdir=\"LR\";\n"
"\tnode[shape=plaintext]\n"
"\tn1[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>ConcurrentSkipListMap</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>adder: 4</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn2[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn3[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn4[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn5[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn6[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: D</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn5 -> n6[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn4 -> n5[label=\"right\",fontsize=12];\n"
"\tn7[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: C</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn7 -> n6[label=\"next\",fontsize=12];\n"
"\tn4 -> n7[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn3 -> n4[label=\"right\",fontsize=12];\n"
"\tn8[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn9[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: A</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn10[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: B</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn10 -> n7[label=\"next\",fontsize=12];\n"
"\tn9 -> n10[label=\"next\",fontsize=12];\n"
"\tn8 -> n9[label=\"next\",fontsize=12];\n"
"\tn3 -> n8[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn2 -> n3[label=\"down\",fontsize=12,constraint=false];\n"
"\tn11[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn11 -> n4[label=\"down\",fontsize=12,constraint=false];\n"
"\tn11 -> n7[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn2 -> n11[label=\"right\",fontsize=12];\n"
"\tn2 -> n8[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn1 -> n2[label=\"head\",fontsize=12];\n"
"}"
msgstr ""

#: lecture.adoc:888
msgctxt "lecture.adoc:888"
msgid "--"
msgstr ""

#: lecture.adoc:890
msgctxt "lecture.adoc:890"
msgid "== ConcurrentSkipListMap"
msgstr ""

#: lecture.adoc:1025
msgid ""
"[graphviz]\n"
"--\n"
"digraph Java {\n"
"\trankdir=\"LR\";\n"
"\tnode[shape=plaintext]\n"
"\tn1[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>ConcurrentSkipListMap</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>adder: 5</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn2[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn3[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn4[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn5[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn6[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn7[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: E</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn6 -> n7[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn5 -> n6[label=\"right\",fontsize=12];\n"
"\tn8[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: D</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn8 -> n7[label=\"next\",fontsize=12];\n"
"\tn5 -> n8[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn4 -> n5[label=\"right\",fontsize=12];\n"
"\tn9[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: C</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn9 -> n8[label=\"next\",fontsize=12];\n"
"\tn4 -> n9[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn3 -> n4[label=\"right\",fontsize=12];\n"
"\tn10[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn11[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: A</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn12[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: B</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn12 -> n9[label=\"next\",fontsize=12];\n"
"\tn11 -> n12[label=\"next\",fontsize=12];\n"
"\tn10 -> n11[label=\"next\",fontsize=12];\n"
"\tn3 -> n10[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn2 -> n3[label=\"down\",fontsize=12,constraint=false];\n"
"\tn13[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn13 -> n4[label=\"down\",fontsize=12,constraint=false];\n"
"\tn13 -> n9[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn2 -> n13[label=\"right\",fontsize=12];\n"
"\tn2 -> n10[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn1 -> n2[label=\"head\",fontsize=12];\n"
"}\n"
"--"
msgstr ""

#: lecture.adoc:1027
msgctxt "lecture.adoc:1027"
msgid "== ConcurrentSkipListMap"
msgstr ""

#: lecture.adoc:1181
msgid ""
"[graphviz]\n"
"--\n"
"digraph Java {\n"
"\trankdir=\"LR\";\n"
"\tnode[shape=plaintext]\n"
"\tn1[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>ConcurrentSkipListMap</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>adder: 6</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn2[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn3[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn4[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn5[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn6[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn7[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn8[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: F</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn7 -> n8[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn6 -> n7[label=\"right\",fontsize=12];\n"
"\tn9[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: E</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn9 -> n8[label=\"next\",fontsize=12];\n"
"\tn6 -> n9[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn5 -> n6[label=\"right\",fontsize=12];\n"
"\tn10[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: D</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn10 -> n9[label=\"next\",fontsize=12];\n"
"\tn5 -> n10[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn4 -> n5[label=\"right\",fontsize=12];\n"
"\tn11[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: C</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn11 -> n10[label=\"next\",fontsize=12];\n"
"\tn4 -> n11[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn3 -> n4[label=\"right\",fontsize=12];\n"
"\tn12[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn13[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: A</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn14[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: B</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn14 -> n11[label=\"next\",fontsize=12];\n"
"\tn13 -> n14[label=\"next\",fontsize=12];\n"
"\tn12 -> n13[label=\"next\",fontsize=12];\n"
"\tn3 -> n12[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn2 -> n3[label=\"down\",fontsize=12,constraint=false];\n"
"\tn15[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn15 -> n4[label=\"down\",fontsize=12,constraint=false];\n"
"\tn15 -> n11[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn2 -> n15[label=\"right\",fontsize=12];\n"
"\tn2 -> n12[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn1 -> n2[label=\"head\",fontsize=12];\n"
"}"
msgstr ""

#: lecture.adoc:1183
msgctxt "lecture.adoc:1183"
msgid "--"
msgstr ""

#: lecture.adoc:1185
msgctxt "lecture.adoc:1185"
msgid "== ConcurrentSkipListMap"
msgstr ""

#: lecture.adoc:1369
msgid ""
"[graphviz]\n"
"--\n"
"digraph Java {\n"
"\trankdir=\"LR\";\n"
"\tnode[shape=plaintext]\n"
"\tn1[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>ConcurrentSkipListMap</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>adder: 7</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn2[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn3[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn4[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn5[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn6[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn7[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn8[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn9[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: G</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn8 -> n9[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn7 -> n8[label=\"right\",fontsize=12];\n"
"\tn10[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: F</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn10 -> n9[label=\"next\",fontsize=12];\n"
"\tn7 -> n10[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn6 -> n7[label=\"right\",fontsize=12];\n"
"\tn11[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: E</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn11 -> n10[label=\"next\",fontsize=12];\n"
"\tn6 -> n11[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn5 -> n6[label=\"right\",fontsize=12];\n"
"\tn12[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: D</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn12 -> n11[label=\"next\",fontsize=12];\n"
"\tn5 -> n12[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn4 -> n5[label=\"right\",fontsize=12];\n"
"\tn13[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: C</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn13 -> n12[label=\"next\",fontsize=12];\n"
"\tn4 -> n13[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn3 -> n4[label=\"right\",fontsize=12];\n"
"\tn14[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn15[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: A</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn16[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: B</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn16 -> n13[label=\"next\",fontsize=12];\n"
"\tn15 -> n16[label=\"next\",fontsize=12];\n"
"\tn14 -> n15[label=\"next\",fontsize=12];\n"
"\tn3 -> n14[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn2 -> n3[label=\"down\",fontsize=12,constraint=false];\n"
"\tn17[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn17 -> n4[label=\"down\",fontsize=12,constraint=false];\n"
"\tn18[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn18 -> n8[label=\"down\",fontsize=12,constraint=false];\n"
"\tn18 -> n9[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn17 -> n18[label=\"right\",fontsize=12];\n"
"\tn17 -> n13[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn2 -> n17[label=\"right\",fontsize=12];\n"
"\tn2 -> n14[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn1 -> n2[label=\"head\",fontsize=12];\n"
"}"
msgstr ""

#: lecture.adoc:1371
msgctxt "lecture.adoc:1371"
msgid "--"
msgstr ""

#: lecture.adoc:1373
msgctxt "lecture.adoc:1373"
msgid "== ConcurrentSkipListMap"
msgstr ""

#: lecture.adoc:1568
msgid ""
"[graphviz]\n"
"--\n"
"digraph Java {\n"
"\trankdir=\"LR\";\n"
"\tnode[shape=plaintext]\n"
"\tn1[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>ConcurrentSkipListMap</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>adder: 8</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn2[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn3[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn4[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn5[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn6[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn7[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn8[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn9[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: G</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn10[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: H</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>,style=filled,fillcolor=yellow];\n"
"\tn9 -> n10[label=\"next\",fontsize=12];\n"
"\tn8 -> n9[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn7 -> n8[label=\"right\",fontsize=12];\n"
"\tn11[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: F</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn11 -> n9[label=\"next\",fontsize=12];\n"
"\tn7 -> n11[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn6 -> n7[label=\"right\",fontsize=12];\n"
"\tn12[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: E</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn12 -> n11[label=\"next\",fontsize=12];\n"
"\tn6 -> n12[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn5 -> n6[label=\"right\",fontsize=12];\n"
"\tn13[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: D</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn13 -> n12[label=\"next\",fontsize=12];\n"
"\tn5 -> n13[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn4 -> n5[label=\"right\",fontsize=12];\n"
"\tn14[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: C</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn14 -> n13[label=\"next\",fontsize=12];\n"
"\tn4 -> n14[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn3 -> n4[label=\"right\",fontsize=12];\n"
"\tn15[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn16[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: A</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn17[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td rowspan='2'>Node</td>\n"
"\t\t\t</tr>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>key: B</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn17 -> n14[label=\"next\",fontsize=12];\n"
"\tn16 -> n17[label=\"next\",fontsize=12];\n"
"\tn15 -> n16[label=\"next\",fontsize=12];\n"
"\tn3 -> n15[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn2 -> n3[label=\"down\",fontsize=12,constraint=false];\n"
"\tn18[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn18 -> n4[label=\"down\",fontsize=12,constraint=false];\n"
"\tn19[label=<\n"
"\t\t<table border='0' cellborder='1' cellspacing='0'>\n"
"\t\t\t<tr>\n"
"\t\t\t\t<td>Index</td>\n"
"\t\t\t</tr>\n"
"\t\t</table>\n"
"\t>];\n"
"\tn19 -> n8[label=\"down\",fontsize=12,constraint=false];\n"
"\tn19 -> n9[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn18 -> n19[label=\"right\",fontsize=12];\n"
"\tn18 -> n14[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn2 -> n18[label=\"right\",fontsize=12];\n"
"\tn2 -> n15[label=\"node\",fontsize=12,constraint=false,color=green];\n"
"\tn1 -> n2[label=\"head\",fontsize=12];\n"
"}"
msgstr ""

#: lecture.adoc:1570
msgctxt "lecture.adoc:1570"
msgid "--"
msgstr ""

#: lecture.adoc:1572
msgid "== Часть 4. Executor Framework"
msgstr ""

#: lecture.adoc:1574
msgctxt "lecture.adoc:1574"
msgid "image::hydra2.jpg[{image-90-width}]"
msgstr ""

#: lecture.adoc:1576
msgctxt "lecture.adoc:1576"
msgid "== Executor Framework"
msgstr ""

#: lecture.adoc:1583
msgid ""
"* Тред -- дорогой ресурс, поэтому мы хотим:\n"
"** ограничивать количество наших тредов, чтобы не устроить Out of Memory,\n"
"** переиспользовать имеющиеся треды, подавая им новые задачи после "
"завершения старых,\n"
"** но если какой-то тред «вылетел» -- автоматически создавать новый.\n"
"* В стандартной библиотеке для этого есть Thread Pools, не надо ничего "
"делать самостоятельно.\n"
"* Никто не использует Thread API напрямую."
msgstr ""

#: lecture.adoc:1585
msgctxt "lecture.adoc:1585"
msgid "== Executor Framework"
msgstr ""

#: lecture.adoc:1592
msgid ""
"[source,java]\n"
"----\n"
"//Абстракция вычислительной задачи, возвращающей результат\n"
"public interface Callable<V> {\n"
"  V call() throws Exception;\n"
"}"
msgstr ""

#: lecture.adoc:1599
msgid ""
"//Абстракция «менджера тредов»\n"
"public interface ExecutorService {\n"
"  <T> Future<T> submit(Callable<T> task);\n"
"  /*...есть и много другого, речь впереди...*/\n"
"}\n"
"----"
msgstr ""

#: lecture.adoc:1601
msgid "== Future"
msgstr ""

#: lecture.adoc:1615
msgid ""
"[source,java]\n"
"----\n"
"//Абстракция результата \"in progress\", который можно ждать, \n"
"//а можно и отменить\n"
"public interface Future<V> {\n"
"  V get() throws InterruptedException, ExecutionException;\n"
"  V get(long timeout, TimeUnit unit)\n"
"    throws InterruptedException, ExecutionException, TimeoutException;\n"
"  boolean cancel(boolean mayInterruptIfRunning);\n"
"  boolean isDone();\n"
"  boolean isCancelled();\n"
"}\n"
"----"
msgstr ""

#: lecture.adoc:1617
msgid "== Task, Executor, Future"
msgstr ""

#: lecture.adoc:1623
msgid ""
"[plantuml, taskexecfuture, png]\n"
"----\n"
"@startuml\n"
"skinparam dpi 150\n"
"hide footbox"
msgstr ""

#: lecture.adoc:1628
msgid ""
"participant Client\n"
"participant Task\n"
"participant Executor\n"
"participant Future"
msgstr ""

#: lecture.adoc:1631
msgid ""
"Client -> Task **: new()\n"
"Task --> Client: task"
msgstr ""

#: lecture.adoc:1636
msgid ""
"Client -> Executor: submit(task)\n"
"Executor -> Future **: new(task)\n"
"Future --> Executor: Future\n"
"Executor --> Client: Future "
msgstr ""

#: lecture.adoc:1642
msgid ""
"Executor -> Future: run()\n"
"note right\n"
"  в отдельном потоке\n"
"  выполнения\n"
"end note"
msgstr ""

#: lecture.adoc:1645
msgid ""
"Future -> Task: call()\n"
"activate Task"
msgstr ""

#: lecture.adoc:1652
msgid ""
"Client -> Future: get()\n"
"activate Future\n"
"Task --> Future: result\n"
"deactivate Task\n"
"Future --> Client: result\n"
"deactivate Future"
msgstr ""

#: lecture.adoc:1655
msgid ""
"@enduml\n"
"----"
msgstr ""

#: lecture.adoc:1657
msgid "== Как создать ExecutorService?"
msgstr ""

#: lecture.adoc:1672
msgid ""
"[source,java]\n"
"----\n"
"public class  Executors {\n"
"  //фиксированный размер пула\n"
"  public static ExecutorService newFixedThreadPool(int nThreads)\n"
"  public static ExecutorService newSingleThreadExecutor()\n"
"  //пул растёт по необходимости, держит неактивный тред 60 секунд\n"
"  public static ExecutorService newCachedThreadPool()\n"
"  //позволяет выполнять задачи с задержкой или периодичностью\n"
"  public static \n"
"    ScheduledExecutorService newScheduledThreadPool(int corePoolSize)\n"
"  ...\n"
"}\n"
"----"
msgstr ""

#: lecture.adoc:1681
msgid ""
"== Обработка задач «пачками»\n"
"[source,java]\n"
"----\n"
"//Запускаем и ждём, пока все выполнятся\n"
"//List<Future<T>>, а не List<T>, т. к. возможны исключения\n"
"<T> List<Future<T>> invokeAll(\n"
"    Collection<? extends Callable<T>> tasks)\n"
"        throws InterruptedException"
msgstr ""

#: lecture.adoc:1687
msgid ""
"//Запускаем, возвращаем первый успешный результат, \n"
"//отменяем остальные\n"
"<T> T invokeAny(Collection<? extends Callable<T>> tasks)\n"
"        throws InterruptedException, ExecutionException;\n"
"----"
msgstr ""

#: lecture.adoc:1689
msgid "== Отмена задач и «прекращение обслуживания»"
msgstr ""

#: lecture.adoc:1696
msgid ""
"[source,java]\n"
"----\n"
"//отменить задачу, если она ещё не начала выполняться\n"
"future.cancel(false)\n"
"//запросить прерывание задачи (подробности впереди)\n"
"future.cancel(true)"
msgstr ""

#: lecture.adoc:1705
msgid ""
"//Запретить приём новых задач\n"
"executorService.shutdown();\n"
"//Подождать, пока принятые задачи завершатся\n"
"if (!service.awaitTermination(10, TimeUnit.SECONDS)){\n"
"    //Прервать выполнение задач\n"
"    service.shutdownNow();\n"
"}\n"
"----"
msgstr ""

#: lecture.adoc:1707
msgid "== Прерывание задач"
msgstr ""

#: lecture.adoc:1712
msgid ""
"* В ранних версиях Java существовали (ныне deprecated) методы принудительной "
"остановки и приостановки/возобновления тредов, но _это оказалось плохой "
"идеей:_\n"
"** нет гарантий, что тред не остановится посередине атомарной операции.\n"
"** приостановка может на неопределённое время \"завесить\" блокировку\n"
"* В итоге, имеется _кооперативный_ механизм прерывания."
msgstr ""

#: lecture.adoc:1714
msgid "== Прерывание тредов"
msgstr ""

#: lecture.adoc:1718
msgid ""
"* `ExecutorService.shutdownNow()` вызывает метод `Thread.interrupt()` на "
"потоках выполнения.\n"
"* метод `Thread.isInterrupted()` возвращает статус прерывания треда.\n"
"* *JMM Interruption Rule*: вызов метода `interrupt()` внешним потоком "
"_happens-before_ прерываемый поток узнаёт о том, что он прерван."
msgstr ""

#: lecture.adoc:1720
msgid "== Кооперативный механизм прерывания"
msgstr ""

#: lecture.adoc:1722
msgid ""
"* Если вычисления в цикле, тред обязан периодически проверять статус "
"`Thread.currentThread().isInterrupted()` и, если флаг выставлен, _записав в "
"лог факт прерывания_, выходить из метода."
msgstr ""

#: lecture.adoc:1724
msgid ""
"* На ждущих методах может быть выброшен `InterruptedException`. Что с ним "
"делать?"
msgstr ""

#: lecture.adoc:1726
msgid "== Что делать с `InterruptedException`"
msgstr ""

#: lecture.adoc:1728
msgid ""
"* Если контекст позволяет, его всегда следует пробрасывать выше (декларируя "
"в `throws`)."
msgstr ""

#: lecture.adoc:1730
msgid ""
"* Если выше пробрасывать нельзя (например, мы находимся в методе `run` "
"интерфейса `Runnable`), то: "
msgstr ""

#: lecture.adoc:1744
msgid ""
"[source,java]\n"
"----\n"
"} catch (InterruptedException e) {\n"
"    //записываем факт прерывания в лог ...\n"
"    ...\n"
"    //восстанавливаем interrupted-статус\n"
"    Thread.currentThread().interrupt();\n"
"    //выходим из прерванной процедуры\n"
"    return;\n"
"}\n"
"----\n"
"* Просто так \"проглатывать\" `InterruptedException` *ни в коем случае "
"нельзя*!\n"
"* Рекомендуется записывать факт прерывания в лог, для прозрачности отладки."
msgstr ""

#: lecture.adoc:1746
msgid "== CompletableFuture"
msgstr ""

#: lecture.adoc:1750
msgid ""
"* Появились в Java 8, расширяют `Future`.\n"
"* Позволяют явно задать результат (отсюда 'Completable') и собрать цепочку "
"асинхронных вычислений.\n"
"* Могут быть использованы так: "
msgstr ""

#: lecture.adoc:1757
msgid ""
"[source,java]\n"
"----\n"
"CompletableFuture<Integer> f = new CompletableFuture<>();\n"
"executor.execute(() -> {\n"
"  int n = workHard(arg);\n"
"  f.complete(n); });"
msgstr ""

#: lecture.adoc:1761
msgid ""
"executor.execute(() -> {\n"
"  int n = workSmart(arg);\n"
"  f.complete(n); });"
msgstr ""

#: lecture.adoc:1766
msgid ""
"executor.execute(() -> {\n"
"  Throwable t = ...;\n"
"  f.completeExceptionally(t); });\n"
"----"
msgstr ""

#: lecture.adoc:1768
msgctxt "lecture.adoc:1768"
msgid "== Композиция CompletableFuture с действием"
msgstr ""

#: lecture.adoc:1778
msgid ""
"[cols=\"20a,20a,60a\"]\n"
"|===\n"
"|*Method*            |*Parameter*            |*Description*\n"
"|`thenApply`         |T->U                   |Apply a function to the result."
"\n"
"|`thenAccept`        |T->void                |Like `thenApply`, but with "
"`void` result.\n"
"|`thenCompose`       |T->CompletableFuture<U>|Invoke the function on the "
"result and execute the returned future.\n"
"|`handle`            |(T, Throwable) -> U    |Process the result or error "
"and yield a new result.\n"
"|`whenComplete`      |(T, Throwable) -> void |Like `handle`, but with `void` "
"result.\n"
"|==="
msgstr ""

#: lecture.adoc:1781
msgctxt "lecture.adoc:1781"
msgid "== Композиция CompletableFuture с действием"
msgstr ""

#: lecture.adoc:1789
msgid ""
"[cols=\"20a,20a,60a\"]\n"
"|===\n"
"|*Method*            |*Parameter*            |*Description*\n"
"|`completeOnTimeout` |T, long, TimeUnit      |Yield the given value as the "
"result in case of timeout (Java 9+)\n"
"|`orTimeout`         |long, TimeUnit         |Throw `TimeoutException ` in "
"case of timeout (Java 9+) \n"
"|`thenRun`           |Runnable               |Execute the `Runnable` with "
"void result.\n"
"|==="
msgstr ""

#: lecture.adoc:1791
msgid "== Композиция нескольких CompletableFuture"
msgstr ""

#: lecture.adoc:1802
msgid ""
"[cols=\"20a,20a,60a\"]\n"
"|===\n"
"|*Method*            |*Parameter*            |*Description*\n"
"|`thenCombine`       |ComletableFuture<U>, +\n"
"                      (T, U)->V              |Execute both and combine the "
"results with the given function.\n"
"|`thenAcceptBoth`    |ComletableFuture<U>, +\n"
"                      (T, U)->void           |Like `thenCombine`, but with "
"`void` result.\n"
"|`runAfterBoth`      |CompletableFuture<?>, +\n"
"                      Runnable               |Execute the runnable after "
"both complete.\n"
"|==="
msgstr ""

#: lecture.adoc:1816
msgid ""
"== Композиция нескольких CompletableFuture\n"
"[cols=\"20a,20a,60a\"]\n"
"|===\n"
"|*Method*            |*Parameter*            |*Description*\n"
"|`applyToEither`     |CompletableFuture<T>, +\n"
"                      T->V                   |When a result is available "
"from one or the other, pass it to the given function.\n"
"|`acceptEither`      |CompletableFuture<T>, +\n"
"                      T->void                |Like `applyToEither`, but with "
"`void` result.\n"
"|`runAfterEither`    |CompletableFuture<?>, +\n"
"                      Runnable               |Execute the runnable after one "
"or the other completes.\n"
"|`static allOf`      |CompletableFuture<?>...|Complete with `void` result "
"after all given futeres complete.\n"
"|`static anyOf`      |CompletableFuture<?>...|Complete after any of the "
"given futures completes, with the same result cast to `Object`.\n"
"|==="
msgstr ""

#: lecture.adoc:1819
msgid ""
"== Если этого показалось мало...\n"
"* Каждый из этих методов имеет вариант с постфиксом `Async` (например, "
"`thenApplyAsync`), позволяющий выполнить дополнительное действие в другом "
"треде заданного Executor-a."
msgstr ""

#: lecture.adoc:1821
msgid "== Мы только прошлись по основам"
msgstr ""

#: lecture.adoc:1831
msgid ""
"[cols=\"30a,70a\"]\n"
"|===\n"
"|image::jcip.jpg[]| \n"
"* *Brian Goetz et al.*, Java Concurrency in Practice.\n"
"* Вышла в 2006-м году, в эпоху Java 5.0.\n"
"* Новых изданий не выходило.\n"
"* На русском языке вышла в 2020-м году!\n"
"* Всё ещё самое полное руководство по разным аспектам многопоточного "
"программирования на Java.\n"
"|==="
msgstr ""

#: lecture.adoc:1833
msgid "== Code Review Checklist"
msgstr ""

#: lecture.adoc:1835
msgid ""
"* *Roman Leventov*: https://github.com/code-review-checklists/java-"
"concurrency[Code Review Checklist: Java Concurrency]"
msgstr ""

#: lecture.adoc:1837
msgid ""
"* Порядка 100 пунктов, по которым можно проверить concurrency код на "
"распространённые ошибки"
msgstr ""

#: lecture.adoc:1841
msgid "== Благодарности "
msgstr ""

#: lecture.adoc:1843
msgid "Эти люди дали свой фидбэк и помогли улучшить материал этой лекции:"
msgstr ""

#: lecture.adoc:1848
msgid ""
"icon:twitter[size=lg]@2caco3\n"
"icon:twitter[size=lg]@asm0dey\n"
"icon:twitter[size=lg]@dolzhenko\n"
"icon:twitter[size=lg]@DrEdwardHyde"
msgstr ""

#: lecture.adoc:1852
msgid ""
"icon:twitter[size=lg]@dyer_the\n"
"icon:twitter[size=lg]@krems5\n"
"icon:twitter[size=lg]@LordOfBoredom"
msgstr ""

#: lecture.adoc:1856
msgid ""
"icon:twitter[size=lg]@miha_x64\n"
"icon:twitter[size=lg]@vaddyacom\n"
"icon:twitter[size=lg]@vdimir"
msgstr ""

#: lecture.adoc:1859
msgid "(все ошибки и неточности -- мои)"
msgstr ""

#: lecture.adoc:1862
msgid "== Иногда при чтении кода начинает рябить в глазах..."
msgstr ""

#: lecture.adoc:1882
msgid ""
"[source,java]\n"
"----\n"
"import org.json.JSONObject;\n"
"class NaivePersonSerializer {\n"
"  String toJSON(Person person) {\n"
"    JSONObject result = new JSONObject();\n"
"      result.put(\"firstName\", person.getFirstName());\n"
"      result.put(\"lastName\", person.getLastName());\n"
"      result.put(\"birthDate\",\n"
"        person.getBirthDate()\n"
"        .format(DateTimeFormatter.ISO_LOCAL_DATE));\n"
"      result.put(...)\n"
"      result.put(...)\n"
"      //ещё 20 полей\n"
"      result.put(...)\n"
"      return result.toString();\n"
"  }\n"
"}\n"
"----"
msgstr ""

#: lecture.adoc:1884
msgid "== Возникает ощущение, что что-то не так..."
msgstr ""

#: lecture.adoc:1904
msgid ""
"[source,java]\n"
"----\n"
"public class NaiveController {\n"
"  private final Service service;\n"
"  public void executeCommand(String command) {\n"
"    switch (command) {\n"
"      case \"foo\":\n"
"        service.foo(); break;\n"
"      case \"bar\":\n"
"        service.bar(); break;\n"
"      case ...\n"
"      //Ещё 15 веток...\n"
"      case \"help\":\n"
"      default:\n"
"        service.help(); break;\n"
"    }\n"
"  }\n"
"}\n"
"----"
msgstr ""

#: lecture.adoc:1906
msgid "== Coupling & Cohesion"
msgstr ""

#: lecture.adoc:1908
msgid ""
"* Coupling: the degree of interdependence between software modules; a "
"measure of how closely connected two routines or modules are; the strength "
"of the relationships between modules."
msgstr ""

#: lecture.adoc:1910
msgid ""
"* Cohesion refers to the degree to which the elements inside a module belong "
"together."
msgstr ""

#: lecture.adoc:1912
msgid "* Low coupling often correlates with high cohesion, and vice versa."
msgstr ""

#: lecture.adoc:1914
msgid "== Coupling vs. Cohesion"
msgstr ""

#: lecture.adoc:1916
msgid "image::coupling-cohesion.png[{image-70-width}]"
msgstr ""

#: lecture.adoc:1919
msgid "== Вопросы"
msgstr ""

#: lecture.adoc:1922
msgid ""
"* За счёт чего в приведённых примерах high coupling + low cohesion?\n"
"* Чем это опасно для проекта?"
msgstr ""

#: lecture.adoc:1924
msgid "== Как бы мы хотели решить эту проблему?"
msgstr ""

#: lecture.adoc:1938
msgid ""
"[source,java]\n"
"----\n"
"//Помечаем то, что хотим сериализовывать, не сериализуем по умолчанию.\n"
"//Вариант: наоборот, помечать то, что сериализовывать не хотим.\n"
"public class Person {\n"
"    @Published\n"
"    private final String firstName;\n"
"    @Published\n"
"    private final String lastName;\n"
"    @Published\n"
"    private final LocalDate birthDate;\n"
"    //...сколько угодно ещё полей\n"
"}"
msgstr ""

#: lecture.adoc:1943
msgid ""
"//Как вариант...\n"
"JsonSerializer<Person> ser = new JsonSerializer<>(Person.class);\n"
"JSONObject json = ser.serialize(p);\n"
"----"
msgstr ""

#: lecture.adoc:1949
msgid ""
"== Контроллер\n"
"[source,java]\n"
"----\n"
"public class Controller {\n"
"  private final Service service;"
msgstr ""

#: lecture.adoc:1952
msgid ""
"  @Command(\"foo\")\n"
"  void doSomething() { service.foo(); }"
msgstr ""

#: lecture.adoc:1955
msgid ""
"  @Command(\"bar\")\n"
"  void bar() { service.bar(); }"
msgstr ""

#: lecture.adoc:1957
msgid "  //ещё 15 команд"
msgstr ""

#: lecture.adoc:1961
msgid ""
"  @Command() //дефолтная\n"
"  void help() { service.help(); }\n"
"}"
msgstr ""

#: lecture.adoc:1964
msgid ""
"new CommandDispatcher(new Controller(srv)).executeCommand(\"foo\");\n"
"----"
msgstr ""

#: lecture.adoc:1966
msgid "== Аннотации"
msgstr ""

#: lecture.adoc:1973
msgid ""
"* Аннотация -- способ разметки кода на Java, через добавление метаинформации "
"к различным элементам программы на Java.\n"
"* Работают приблизительно как модификаторы (`public`, `static`), но "
"существует развитый механизм создания собственных аннотаций.\n"
"* Могут быть обработаны на трёх этапах:\n"
"** на этапе кодогенерации перед компиляцией (annotation processing, Language "
"Model API),\n"
"** на этапе инструментации байт-кода (Instrumentation API),\n"
"** на этапе выполнения кода (через Reflection API)."
msgstr ""

#: lecture.adoc:1975
msgid "== Синтаксис определения аннотаций"
msgstr ""

#: lecture.adoc:1983
msgid ""
"----\n"
"modifiers @interface AnnotationName {\n"
"  type elementName();\n"
"  ...\n"
"  type elementName default value;\n"
"}\n"
"----"
msgstr ""

#: lecture.adoc:1993
msgid ""
"== Пример\n"
"[source,java]\n"
"----\n"
"public @interface BugReport {\n"
"  String assignedTo() default \"\";\n"
"  int severity();\n"
"}\n"
"----\n"
"== Annotation Interfaces"
msgstr ""

#: lecture.adoc:1998
msgid ""
"* Подобно тому, как `enum`-классы -- это специальный вид классов, annotation-"
"интерфейсы -- это специальный вид интерфейсов.\n"
"* Наследуются от `java.lang.annotation.Annotation`.\n"
"* Нельзя расширять наследованием, нельзя параметризовать через generics.\n"
"* Методы не могут иметь параметров."
msgstr ""

#: lecture.adoc:2000
msgid "== Допустимые типы методов аннотации (JLS 9.6.1)"
msgstr ""

#: lecture.adoc:2007
msgid ""
"* Примитивы (`int`, `short`, `long`, `byte`, `char`, `double`, `float`, "
"`boolean`),\n"
"* enum-ы,\n"
"* `String`,\n"
"* `Class` (с возможным ограничителем параметра, вроде `Class<? extends "
"MyClass>`),\n"
"* другие аннотации,\n"
"* массивы из вышеперечисленного (но не массивы массивов)."
msgstr ""

#: lecture.adoc:2009
msgid "== Пример определения интерфейса аннотации"
msgstr ""

#: lecture.adoc:2017
msgid ""
"[source,java]\n"
"----\n"
"public @interface BugReport {\n"
"  //вложенные типы допустимы!\n"
"  enum Status {UNCONFIRMED, CONFIRMED, FIXED, NOTABUG}\n"
"  boolean showStopper() default false;\n"
"  String assignedTo() default \"\";"
msgstr ""

#: lecture.adoc:2021
msgid ""
"  //метакласс, речь впереди\n"
"  Class<?> testCase() default Void.class;\n"
"  Status status() default Status.UNCONFIRMED;"
msgstr ""

#: lecture.adoc:2028
msgid ""
"  //Тип аннотации. При конструировании используется синтаксис\n"
"  //аннотации, речь впереди\n"
"  Reference ref() default @Reference(id = \"\");\n"
"  String[] reportedBy();\n"
"}\n"
"----"
msgstr ""

#: lecture.adoc:2030
msgctxt "lecture.adoc:2030"
msgid "== Использование аннотаций"
msgstr ""

#: lecture.adoc:2033
msgid ""
"----\n"
"@AnnotationName(elementName1=value1, elementName2=value2,...)"
msgstr ""

#: lecture.adoc:2035
msgid "@AnnotationName(singleValue)"
msgstr ""

#: lecture.adoc:2038
msgid ""
"@AnnotationName //no values, no parens\n"
"----"
msgstr ""

#: lecture.adoc:2040
msgctxt "lecture.adoc:2040"
msgid "== Использование аннотаций"
msgstr ""

#: lecture.adoc:2044
msgid ""
"[source,java]\n"
"----\n"
"@BugReport(assignedTo=\"Harry\", severity=10)"
msgstr ""

#: lecture.adoc:2047
msgid ""
"//порядок не имеет значения\n"
"@BugReport(severity=10, assignedTo=\"Harry\")"
msgstr ""

#: lecture.adoc:2050
msgid ""
"//если заданы значения по умолчанию, то можно пропускать\n"
"@BugReport(severity=10)"
msgstr ""

#: lecture.adoc:2054
msgid ""
"//если параметров нет или все имеют умолчания, \n"
"//то можно не ставить скобки\n"
"@BugReport"
msgstr ""

#: lecture.adoc:2058
msgid ""
"//Если на параметр не задан default, его надо  обязательно определять \n"
"//(иначе ошибка компиляции).\n"
"----"
msgstr ""

#: lecture.adoc:2060
msgid "== Single-value annotations"
msgstr ""

#: lecture.adoc:2067
msgid ""
"[source,java]\n"
"----\n"
"public @interface ActionListenerFor {\n"
"  String value();\n"
"  int priority() default 0;\n"
"}"
msgstr ""

#: lecture.adoc:2070
msgid ""
"//использование\n"
"@ActionListenerFor(\"yellowButton\")"
msgstr ""

#: lecture.adoc:2073
msgid ""
"//что эквивалентно\n"
"@ActionListenerFor(value = \"yellowButton\")"
msgstr ""

#: lecture.adoc:2077
msgid ""
"//в то же время:\n"
"@ActionListenerFor(value = \"yellowButton\", priority = 1)\n"
"----"
msgstr ""

#: lecture.adoc:2081
msgid "== Массивы и другие аннотации"
msgstr ""

#: lecture.adoc:2086
msgid ""
"[source,java]\n"
"----\n"
"//Массивы задаются в фигурных скобках\n"
"@BugReport(..., reportedBy = {\"Harry\", \"Carl\"})"
msgstr ""

#: lecture.adoc:2089
msgid ""
"//То же самое, что {\"Harry\"}\n"
"@BugReport(..., reportedBy = \"Harry\")"
msgstr ""

#: lecture.adoc:2092
msgid ""
"//Конструирование вложенных аннотаций\n"
"@BugReport(..., ref = @Reference(id = \"12345\"))"
msgstr ""

#: lecture.adoc:2096
msgid ""
"//...Как видим, используя разрешённые типы,\n"
"//можно задать сколь угодно сложную структуру данных\n"
"----"
msgstr ""

#: lecture.adoc:2098
msgid ""
"WARNING: Значение аннотации не может быть установлено в `null`. Не "
"допускатся `null` даже в `default`-значениях. "
msgstr ""
